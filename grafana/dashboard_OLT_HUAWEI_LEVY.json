{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "datasource",
          "uid": "grafana"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 2,
  "id": 0,
  "links": [],
  "panels": [
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 31,
      "panels": [],
      "title": "STATUS DA OLT",
      "type": "row"
    },
    {
      "datasource": {
        "type": "alexanderzobnin-zabbix-datasource",
        "uid": "ff5clh86a2mf4a"
      },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 5,
        "x": 0,
        "y": 1
      },
      "id": 131,
      "options": {
        "afterRender": "",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <link rel=\"stylesheet\" href=\"styles.css\">\n</head>\n\n<body>\n  <div id=\"total-card\" class=\"card\">\n    <div class=\"image-container\">\n      <img src=\"https://cdn-icons-png.flaticon.com/512/2428/2428743.png\" alt=\"Icone.png\">\n    </div>\n    <div class=\"data-container\">\n      <span class=\"adapted-value\">{{data.[0].[0].STATUS}}</span>\n      <span class=\"adapted-name\">STATUS DO<BR>EQUIPAMENTO</span>\n    </div>\n  </div>\n</body>\n\n</html>",
        "contentPartials": [],
        "defaultContent": "The query didn't return any results.",
        "editor": {
          "format": "auto",
          "language": "html"
        },
        "editors": [
          "afterRender"
        ],
        "externalStyles": [],
        "helpers": "// Fun√ß√£o para trocar 1 por \"Online\" e outros valores por \"Offline\"\r\nfunction updateStatus() {\r\n  // Seleciona o elemento que cont√©m o valor do STATUS\r\n  const statusElement = document.querySelector('.adapted-value');\r\n\r\n  if (statusElement) {\r\n    // Obt√©m o valor do STATUS\r\n    const STATUS = statusElement.textContent.trim();\r\n\r\n    // Verifica o valor e faz a substitui√ß√£o\r\n    if (STATUS != '0') {\r\n      statusElement.textContent = 'Online';\r\n    } else {\r\n      statusElement.textContent = 'Offline';\r\n    }\r\n  }\r\n}\r\n\r\n// Aguarda um pequeno delay para garantir que o valor seja renderizado\r\nsetTimeout(updateStatus, 100); // 100ms de delay",
        "renderMode": "data",
        "status": "STATUS",
        "styles": "html, body, .card {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.card {\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: #000513; /* Cor de fundo do cart√£o que combina com o efeito neon */\r\n    border-radius: 20px;\r\n    box-shadow: 0 0 2px #1EB68B, 0 0 4px #1EB68B, 0 0 8px #1EB68B; /* Cor neon */\r\n    color: #FFFFFF; /* Cor do texto */\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n\r\n.image-container {\r\n    flex: 0 0 auto;\r\n    margin: 0 15px;\r\n}\r\n\r\n.image-container img {\r\n    margin-left: 15px;\r\n    border-radius: 15px; /* Tamanho da borda (alterar caso a borda esteja cortando o √≠cone) */\r\n    height: 70px; /* Tamanho do √≠cone */\r\n}\r\n\r\n.data-container  {\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-end;\r\n    overflow: hidden;\r\n    padding-right: 10px;\r\n    text-align: right;\r\n}\r\n\r\n.adapted-value {\r\n    font-size: clamp(30px, 1.25vw, 30px); /* Tamanho inicial e final do texto */\r\n    font-weight: bold;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    width: 100%;\r\n}\r\n\r\n.adapted-name {\r\n    font-size: clamp(10px, 1.25vw, 20px); /* Tamanho inicial e final do subtexto */\r\n    color: #FFFFFF; /* Cor do subtexto */\r\n    margin-top: 10px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    width: 100%;\r\n}\r\n",
        "wrap": true
      },
      "pluginVersion": "6.2.0",
      "targets": [
        {
          "application": {
            "filter": "TOTAIS ONUs"
          },
          "countTriggersBy": "",
          "datasource": {
            "type": "alexanderzobnin-zabbix-datasource",
            "uid": "KW2f6Cc4z"
          },
          "evaltype": "0",
          "functions": [
            {
              "$$hashKey": "object:566",
              "def": {
                "category": "Alias",
                "defaultParams": [],
                "name": "setAlias",
                "params": [
                  {
                    "name": "alias",
                    "type": "string"
                  }
                ]
              },
              "params": [
                "STATUS"
              ],
              "text": "setAlias(TOTAL DE ONU)"
            }
          ],
          "group": {
            "filter": "/.*/"
          },
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "ICMP ping"
          },
          "itemTag": {
            "filter": ""
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": true,
            "disableDataAlignment": false,
            "minSeverity": 3,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "refId": "A",
          "resultFormat": "time_series",
          "schema": 12,
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          },
          "triggers": {
            "acknowledged": 2
          }
        }
      ],
      "transformations": [
        {
          "id": "reduce",
          "options": {
            "reducers": [
              "lastNotNull"
            ]
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "includeByName": {},
            "indexByName": {},
            "renameByName": {
              "Last *": "STATUS"
            }
          }
        }
      ],
      "transparent": true,
      "type": "marcusolsson-dynamictext-panel"
    },
    {
      "datasource": {
        "type": "alexanderzobnin-zabbix-datasource",
        "uid": "ff5clh86a2mf4a"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "auto",
            "cellOptions": {
              "type": "auto"
            },
            "filterable": true,
            "footer": {
              "reducers": []
            },
            "inspect": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "AUTENTICADAS"
            },
            "properties": [
              {
                "id": "custom.cellOptions",
                "value": {
                  "type": "gauge"
                }
              },
              {
                "id": "min",
                "value": 0
              },
              {
                "id": "max",
                "value": 128
              },
              {
                "id": "custom.align",
                "value": "center"
              },
              {
                "id": "color",
                "value": {
                  "fixedColor": "#1eb68b",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "ONLINE"
            },
            "properties": [
              {
                "id": "custom.align",
                "value": "center"
              },
              {
                "id": "custom.cellOptions",
                "value": {
                  "type": "gauge"
                }
              },
              {
                "id": "color",
                "value": {
                  "fixedColor": "#00e09f",
                  "mode": "fixed"
                }
              },
              {
                "id": "min",
                "value": 0
              },
              {
                "id": "max",
                "value": 128
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "OFFLINE"
            },
            "properties": [
              {
                "id": "custom.align",
                "value": "center"
              },
              {
                "id": "custom.cellOptions",
                "value": {
                  "type": "gauge"
                }
              },
              {
                "id": "color",
                "value": {
                  "fixedColor": "#2e8b71",
                  "mode": "fixed"
                }
              },
              {
                "id": "min",
                "value": 0
              },
              {
                "id": "max",
                "value": 128
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "TEMPERATURA"
            },
            "properties": [
              {
                "id": "custom.align",
                "value": "center"
              },
              {
                "id": "unit",
                "value": "celsius"
              },
              {
                "id": "mappings",
                "value": [
                  {
                    "options": {
                      "from": 100,
                      "result": {
                        "index": 0,
                        "text": "0 ¬∞C"
                      },
                      "to": 1000000000000
                    },
                    "type": "range"
                  }
                ]
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "POT√äNCIA DE SA√çDA"
            },
            "properties": [
              {
                "id": "custom.align",
                "value": "center"
              },
              {
                "id": "unit",
                "value": "dBm"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "STATUS PLACA"
            },
            "properties": [
              {
                "id": "mappings",
                "value": [
                  {
                    "options": {
                      "0": {
                        "index": 2,
                        "text": "üî¥ DOWN"
                      },
                      "1": {
                        "index": 0,
                        "text": "üü¢ UP"
                      },
                      "2": {
                        "index": 1,
                        "text": "üî¥ DOWN"
                      }
                    },
                    "type": "value"
                  }
                ]
              },
              {
                "id": "custom.align",
                "value": "center"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "USO DE CPU"
            },
            "properties": [
              {
                "id": "custom.align",
                "value": "center"
              },
              {
                "id": "unit",
                "value": "percent"
              },
              {
                "id": "custom.cellOptions",
                "value": {
                  "type": "gauge"
                }
              },
              {
                "id": "thresholds",
                "value": {
                  "mode": "percentage",
                  "steps": [
                    {
                      "color": "#00e09f",
                      "value": 0
                    },
                    {
                      "color": "#f5ff00",
                      "value": 40
                    },
                    {
                      "color": "#ff9e00",
                      "value": 60
                    },
                    {
                      "color": "#ff0000",
                      "value": 80
                    }
                  ]
                }
              },
              {
                "id": "min",
                "value": 0
              },
              {
                "id": "max",
                "value": 100
              },
              {
                "id": "decimals",
                "value": 0
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "USO DE MEM√ìRIA"
            },
            "properties": [
              {
                "id": "custom.align",
                "value": "center"
              },
              {
                "id": "custom.cellOptions",
                "value": {
                  "type": "gauge"
                }
              },
              {
                "id": "unit",
                "value": "percent"
              },
              {
                "id": "thresholds",
                "value": {
                  "mode": "percentage",
                  "steps": [
                    {
                      "color": "#00e09f",
                      "value": 0
                    },
                    {
                      "color": "#f5ff00",
                      "value": 40
                    },
                    {
                      "color": "#ff9e00",
                      "value": 60
                    },
                    {
                      "color": "#ff0000",
                      "value": 80
                    }
                  ]
                }
              },
              {
                "id": "min",
                "value": 0
              },
              {
                "id": "max",
                "value": 100
              },
              {
                "id": "custom.width",
                "value": 167
              },
              {
                "id": "decimals",
                "value": 0
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 10,
        "x": 5,
        "y": 1
      },
      "id": 121,
      "options": {
        "cellHeight": "sm",
        "showHeader": true,
        "sortBy": []
      },
      "pluginVersion": "12.3.0",
      "targets": [
        {
          "application": {
            "filter": ""
          },
          "countTriggersBy": "",
          "dataset": "performance_schema",
          "datasource": {
            "type": "mysql",
            "uid": "eelvlbtb2pam8c"
          },
          "editorMode": "code",
          "evaltype": "0",
          "format": "table",
          "functions": [],
          "group": {
            "filter": "/.*/"
          },
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "/.*/"
          },
          "itemTag": {
            "filter": "Application: STATUS_PLACA"
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": false,
            "disableDataAlignment": false,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "rawQuery": true,
          "rawSql": "SELECT \r\n   a.name AS PLACA,\r\n    MAX(CASE WHEN t.value = 'MEMORIA_PLACA' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS \"USO DE MEM√ìRIA\",\r\n        MAX(CASE WHEN t.value = 'CPU_PLACA' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS \"USO DE CPU\",\r\n            MAX(CASE WHEN t.value = 'STATUS_PLACA' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS \"STATUS PLACA\"\r\nFROM items a\r\nINNER JOIN item_tag t \r\n    ON t.itemid = a.itemid\r\n    AND t.value IN ('MEMORIA_PLACA', 'CPU_PLACA', 'STATUS_PLACA')\r\nleft join hosts as c on c.hostid = a.hostid\r\nWHERE c.host = '$OLT' and a.flags = 4\r\nGROUP BY PLACA",
          "refId": "A",
          "resultFormat": "time_series",
          "schema": 12,
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          },
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          }
        },
        {
          "application": {
            "filter": ""
          },
          "countTriggersBy": "",
          "dataset": "performance_schema",
          "datasource": {
            "type": "mysql",
            "uid": "eelvlbtb2pam8c"
          },
          "editorMode": "code",
          "evaltype": "0",
          "format": "table",
          "functions": [],
          "group": {
            "filter": "/.*/"
          },
          "hide": false,
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "/.*/"
          },
          "itemTag": {
            "filter": "Application: MEMORIA_PLACA"
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": false,
            "disableDataAlignment": false,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "rawQuery": true,
          "rawSql": "SELECT \r\n   a.name AS PLACA,\r\n    MAX(CASE WHEN t.value = 'MEMORIA_PLACA' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS \"USO DE MEM√ìRIA\",\r\n        MAX(CASE WHEN t.value = 'CPU_PLACA' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS \"USO DE CPU\",\r\n            MAX(CASE WHEN t.value = 'STATUS_PLACA' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS \"STATUS PLACA\"\r\nFROM items a\r\nINNER JOIN item_tag t \r\n    ON t.itemid = a.itemid\r\n    AND t.value IN ('MEMORIA_PLACA', 'CPU_PLACA', 'STATUS_PLACA')\r\nleft join hosts as c on c.hostid = a.hostid\r\nWHERE c.host = '$OLT' and a.flags = 4\r\nGROUP BY PLACA",
          "refId": "B",
          "resultFormat": "time_series",
          "schema": 12,
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          },
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          }
        },
        {
          "application": {
            "filter": ""
          },
          "countTriggersBy": "",
          "dataset": "performance_schema",
          "datasource": {
            "type": "mysql",
            "uid": "eelvlbtb2pam8c"
          },
          "editorMode": "code",
          "evaltype": "0",
          "format": "table",
          "functions": [],
          "group": {
            "filter": "/.*/"
          },
          "hide": false,
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "/.*/"
          },
          "itemTag": {
            "filter": "Application: CPU_PLACA"
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": false,
            "disableDataAlignment": false,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "rawQuery": true,
          "rawSql": "SELECT \r\n   a.name AS PLACA,\r\n    MAX(CASE WHEN t.value = 'MEMORIA_PLACA' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS \"USO DE MEM√ìRIA\",\r\n        MAX(CASE WHEN t.value = 'CPU_PLACA' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS \"USO DE CPU\",\r\n            MAX(CASE WHEN t.value = 'STATUS_PLACA' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS \"STATUS PLACA\"\r\nFROM items a\r\nINNER JOIN item_tag t \r\n    ON t.itemid = a.itemid\r\n    AND t.value IN ('MEMORIA_PLACA', 'CPU_PLACA', 'STATUS_PLACA')\r\nleft join hosts as c on c.hostid = a.hostid\r\nWHERE c.host = '$OLT' and a.flags = 4\r\nGROUP BY PLACA",
          "refId": "C",
          "resultFormat": "time_series",
          "schema": 12,
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          },
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          }
        },
        {
          "application": {
            "filter": ""
          },
          "countTriggersBy": "",
          "dataset": "performance_schema",
          "datasource": {
            "type": "mysql",
            "uid": "eelvlbtb2pam8c"
          },
          "editorMode": "code",
          "evaltype": "0",
          "format": "table",
          "functions": [],
          "group": {
            "filter": "/.*/"
          },
          "hide": false,
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "/.*/"
          },
          "itemTag": {
            "filter": "Application: TEMPERATURA_PLACA"
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": false,
            "disableDataAlignment": false,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "rawQuery": true,
          "rawSql": "SELECT \r\n   a.name AS PLACA,\r\n    MAX(CASE WHEN t.value = 'MEMORIA_PLACA' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS \"USO DE MEM√ìRIA\",\r\n        MAX(CASE WHEN t.value = 'CPU_PLACA' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS \"USO DE CPU\",\r\n            MAX(CASE WHEN t.value = 'STATUS_PLACA' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS \"STATUS PLACA\"\r\nFROM items a\r\nINNER JOIN item_tag t \r\n    ON t.itemid = a.itemid\r\n    AND t.value IN ('MEMORIA_PLACA', 'CPU_PLACA', 'STATUS_PLACA')\r\nleft join hosts as c on c.hostid = a.hostid\r\nWHERE c.host = '$OLT' and a.flags = 4\r\nGROUP BY PLACA",
          "refId": "D",
          "resultFormat": "time_series",
          "schema": 12,
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          },
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          }
        }
      ],
      "title": "INFORMA√á√ïES DAS PLACAS",
      "transformations": [
        {
          "id": "reduce",
          "options": {
            "labelsToFields": true,
            "reducers": [
              "lastNotNull"
            ]
          }
        },
        {
          "id": "extractFields",
          "options": {
            "delimiter": ",",
            "format": "regexp",
            "regExp": "/(?<item_key>^([^\\[]+))/",
            "source": "item_key"
          }
        },
        {
          "id": "groupingToMatrix",
          "options": {
            "columnField": "item_key 2",
            "emptyValue": "zero",
            "rowField": "item",
            "valueField": "Last *"
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "includeByName": {},
            "indexByName": {},
            "renameByName": {
              "MemoryUtilBoard": "USO DE MEM√ìRIA",
              "OltBoardCpuTemp": "TEMPERATURA",
              "OltCpuUtilBoard": "USO DE CPU",
              "cpu.": "USO DE CPU",
              "item\\item_key 2": "PLACA",
              "memory.": "USO DE MEM√ìRIA",
              "slotstatus": "STATUS PLACA",
              "slotstatus.": "STATUS PLACA",
              "temperatura.": "TEMPERATURA"
            }
          }
        }
      ],
      "type": "table"
    },
    {
      "datasource": {
        "type": "alexanderzobnin-zabbix-datasource",
        "uid": "ff5clh86a2mf4a"
      },
      "gridPos": {
        "h": 8,
        "w": 9,
        "x": 15,
        "y": 1
      },
      "id": 136,
      "options": {
        "ackEventColor": "rgb(56, 219, 156)",
        "ackField": false,
        "ageField": false,
        "allowDangerousHTML": false,
        "customLastChangeFormat": false,
        "descriptionAtNewLine": false,
        "descriptionField": true,
        "fontSize": "100%",
        "highlightBackground": false,
        "highlightNewEvents": false,
        "highlightNewerThan": "1h",
        "hostField": false,
        "hostGroups": false,
        "hostProxy": false,
        "hostTechNameField": false,
        "lastChangeFormat": "",
        "layout": "table",
        "markAckEvents": false,
        "okEventColor": "rgb(56, 189, 113)",
        "opdataField": false,
        "pageSize": 10,
        "problemTimeline": true,
        "resizedColumns": [
          {
            "id": "value",
            "value": 11
          }
        ],
        "severityField": true,
        "showDatasourceName": false,
        "showTags": false,
        "sortProblems": "lastchange",
        "statusField": true,
        "statusIcon": false,
        "triggerSeverity": [
          {
            "color": "rgb(108, 108, 108)",
            "priority": 0,
            "severity": "Not classified",
            "show": true
          },
          {
            "color": "rgb(120, 158, 183)",
            "priority": 1,
            "severity": "Information",
            "show": true
          },
          {
            "color": "rgb(175, 180, 36)",
            "priority": 2,
            "severity": "Warning",
            "show": true
          },
          {
            "color": "rgb(255, 137, 30)",
            "priority": 3,
            "severity": "Average",
            "show": true
          },
          {
            "color": "rgb(255, 101, 72)",
            "priority": 4,
            "severity": "High",
            "show": true
          },
          {
            "color": "rgb(215, 0, 0)",
            "priority": 5,
            "severity": "Disaster",
            "show": true
          }
        ]
      },
      "pluginVersion": "6.0.3",
      "targets": [
        {
          "application": {
            "filter": ""
          },
          "countTriggersBy": "",
          "evaltype": "0",
          "functions": [],
          "group": {
            "filter": "/.*/"
          },
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": ""
          },
          "itemTag": {
            "filter": ""
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "acknowledged": 2,
            "count": false,
            "disableDataAlignment": false,
            "hostProxy": false,
            "hostsInMaintenance": false,
            "limit": 1001,
            "minSeverity": 0,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "sortProblems": "default",
            "useTimeRange": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "5",
          "refId": "A",
          "resultFormat": "time_series",
          "schema": 12,
          "showProblems": "problems",
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          }
        }
      ],
      "title": "PROBLEMAS DA OLT",
      "transparent": true,
      "type": "alexanderzobnin-zabbix-triggers-panel"
    },
    {
      "datasource": {
        "type": "alexanderzobnin-zabbix-datasource",
        "uid": "ff5clh86a2mf4a"
      },
      "fieldConfig": {
        "defaults": {
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "UPTIME"
            },
            "properties": []
          }
        ]
      },
      "gridPos": {
        "h": 4,
        "w": 5,
        "x": 0,
        "y": 5
      },
      "id": 132,
      "options": {
        "SVGBaseFix": true,
        "add100Percentage": true,
        "calcsMutation": "standard",
        "centerAlignContent": true,
        "codeData": "{\n  \"text\": \"Random text\"\n}",
        "css": ".card {\n    display: flex;\n    align-items: center;\n    background-color: #000513; /* Cor de fundo do cart√£o que combina com o efeito neon */\n    border-radius: 20px;\n    box-shadow: 0 0 2px #1EB68B, 0 0 4px #1EB68B, 0 0 8px #1EB68B; /* Cor neon */\n    color: #ffffff; /* Cor do texto */\n    position: relative;\n    overflow: hidden;\n}\n\n.image-container {\n    flex: 0 0 auto;\n    margin-right: 15px;\n}\n\n.image-container img {\n    margin-left: 15px;\n    border-radius: 15px; /* Tamanho da borda (alterar caso a borda esteja cortando o √≠cone) */\n    height: 70px; /* Tamanho do √≠cone */\n}\n\n.data-container {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n    overflow: hidden;\n    padding-right: 10px;\n    text-align: center;\n}\n#total-value {\n    font-size: clamp(25px, 1.25vw, 50px); /* Tamanho inicial e final do texto */\n    font-weight: bold;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    width: 100%;\n}\n\n.label {\n    font-size: clamp(10px, 1.25vw, 15px); /* Tamanho inicial e final do subtexto */\n    color: #ffffff; /* Cor do subtexto */\n    margin-top: 10px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    width: 100%;\n}\n",
        "dynamicData": false,
        "dynamicFieldDisplayValues": false,
        "dynamicHtmlGraphics": false,
        "dynamicProps": false,
        "html": "<div id=\"total-card\" class=\"card\">\n    <!--Se n√£o conter icone exclua as linhas 3,4 e 5 !-->\n    <div class=\"image-container\">\n        <img src=\"https://cdn-icons-png.flaticon.com/512/12669/12669745.png\" alt=\"Icone.png\">\n    </div>\n    <div class=\"data-container\">\n        <div id=\"total-value\"></div>\n        <div class=\"label\">TEMPO DE ATIVIDADE</div>\n    </div>\n</div>",
        "onInit": "// Sets the text from customProperties\nconst htmlgraphicsText = htmlNode.getElementById('htmlgraphics-text');\n\nif (htmlgraphicsText) {\n  htmlgraphicsText.textContent = customProperties.text;\n\n  // Change the text color based on the theme\n  if (theme.isDark) {\n    htmlgraphicsText.style.color = 'green';\n  } else {\n    htmlgraphicsText.style.color = 'red';\n  }\n}\n",
        "onInitOnResize": false,
        "onRender": "const valor_total = htmlNode.getElementById('total-value');\n\nif (valor_total) {\n  const field = data.series[0]?.fields[0]; // pega o primeiro mesmo\n  if (field && field.values.length > 0) {\n    const formattedValue = field.values.get(field.values.length - 1);\n\n    // Fun√ß√£o para converter segundos em dias, horas e minutos\n    function formatarTempo(segundos) {\n      const dias = Math.floor(segundos / (24 * 3600));\n      segundos %= 24 * 3600;\n      const horas = Math.floor(segundos / 3600);\n      segundos %= 3600;\n      const minutos = Math.floor(segundos / 60);\n\n      return `${dias} D ${horas}H ${minutos}M`;\n    }\n\n    // Converte o valor total de segundos para o formato desejado\n    const tempoFormatado = formatarTempo(formattedValue);\n    valor_total.innerHTML = `${tempoFormatado}`;\n  } else {\n    valor_total.innerHTML = 'Sem valor';\n  }\n}\n",
        "overflow": "hidden",
        "panelupdateOnMount": true,
        "reduceOptions": {
          "calcs": [
            "lastNotNull",
            "last",
            "firstNotNull",
            "first",
            "min",
            "max",
            "mean",
            "sum",
            "count",
            "range",
            "delta",
            "step",
            "diff",
            "logmin",
            "allIsZero",
            "allIsNull",
            "diffperc"
          ]
        },
        "renderOnMount": true,
        "rootCSS": "",
        "useGrafanaScrollbar": true
      },
      "pluginVersion": "2.2.3",
      "targets": [
        {
          "application": {
            "filter": "TOTAIS ONUs"
          },
          "countTriggersBy": "",
          "datasource": {
            "type": "alexanderzobnin-zabbix-datasource",
            "uid": "KW2f6Cc4z"
          },
          "evaltype": "0",
          "functions": [
            {
              "$$hashKey": "object:566",
              "def": {
                "category": "Alias",
                "defaultParams": [],
                "name": "setAlias",
                "params": [
                  {
                    "name": "alias",
                    "type": "string"
                  }
                ]
              },
              "params": [
                "UPTIME"
              ],
              "text": "setAlias(TOTAL DE ONU)"
            }
          ],
          "group": {
            "filter": "/.*/"
          },
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "Uptime (network)"
          },
          "itemTag": {
            "filter": ""
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": true,
            "disableDataAlignment": false,
            "minSeverity": 3,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "refId": "A",
          "resultFormat": "time_series",
          "schema": 12,
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          },
          "triggers": {
            "acknowledged": 2
          }
        }
      ],
      "transformations": [
        {
          "id": "reduce",
          "options": {
            "reducers": [
              "lastNotNull"
            ]
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "Field": true,
              "Last *": false
            },
            "includeByName": {},
            "indexByName": {},
            "renameByName": {
              "Last *": "UPTIME"
            }
          }
        }
      ],
      "transparent": true,
      "type": "gapit-htmlgraphics-panel"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 9
      },
      "id": 133,
      "panels": [],
      "title": "INFORMA√á√ïES DE CONEX√ÉO",
      "type": "row"
    },
    {
      "datasource": {
        "type": "alexanderzobnin-zabbix-datasource",
        "uid": "ff5clh86a2mf4a"
      },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 5,
        "x": 0,
        "y": 10
      },
      "id": 123,
      "options": {
        "afterRender": "",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <link rel=\"stylesheet\" href=\"styles.css\">\n</head>\n\n<body>\n  <div id=\"total-card\" class=\"card\">\n    <div class=\"image-container\">\n      <img src=\"https://cdn-icons-png.flaticon.com/512/6485/6485037.png\" alt=\"Icone.png\">\n    </div>\n    <div class=\"data-container\">\n      <span class=\"adapted-value\">{{data.[0].[0].STATUS}}</span>\n      <span class=\"adapted-name\">ONUs <br> AUTORIZADAS</span>\n    </div>\n  </div>\n</body>\n\n</html>",
        "contentPartials": [],
        "defaultContent": "The query didn't return any results.",
        "editor": {
          "format": "auto",
          "language": "html"
        },
        "editors": [
          "styles"
        ],
        "externalStyles": [],
        "helpers": "",
        "renderMode": "data",
        "status": "Value",
        "styles": "html, body, .card {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.card {\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: #000513; /* Cor de fundo do cart√£o que combina com o efeito neon */\r\n    border-radius: 20px;\r\n    box-shadow: 0 0 2px #1EB68B, 0 0 4px #1EB68B, 0 0 8px #1EB68B; /* Cor neon */\r\n    color: #FFFFFF; /* Cor do texto */\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n\r\n.image-container {\r\n    flex: 0 0 auto;\r\n    margin: 0 15px;\r\n}\r\n\r\n.image-container img {\r\n    margin-left: 15px;\r\n    border-radius: 15px; /* Tamanho da borda (alterar caso a borda esteja cortando o √≠cone) */\r\n    height: 70px; /* Tamanho do √≠cone */\r\n}\r\n\r\n.data-container  {\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-end;\r\n    overflow: hidden;\r\n    padding-right: 10px;\r\n    text-align: right;\r\n}\r\n\r\n.adapted-value {\r\n    font-size: clamp(30px, 1.25vw, 30px); /* Tamanho inicial e final do texto */\r\n    font-weight: bold;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    width: 100%;\r\n}\r\n\r\n.adapted-name {\r\n    font-size: clamp(10px, 1.25vw, 20px); /* Tamanho inicial e final do subtexto */\r\n    color: #FFFFFF; /* Cor do subtexto */\r\n    margin-top: 10px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    width: 100%;\r\n}\r\n",
        "wrap": true
      },
      "pluginVersion": "6.2.0",
      "targets": [
        {
          "application": {
            "filter": "TOTAIS ONUs"
          },
          "countTriggersBy": "",
          "datasource": {
            "type": "alexanderzobnin-zabbix-datasource",
            "uid": "KW2f6Cc4z"
          },
          "evaltype": "0",
          "functions": [
            {
              "$$hashKey": "object:566",
              "def": {
                "category": "Alias",
                "defaultParams": [],
                "name": "setAlias",
                "params": [
                  {
                    "name": "alias",
                    "type": "string"
                  }
                ]
              },
              "params": [
                "STATUS"
              ],
              "text": "setAlias(TOTAL DE ONU)"
            }
          ],
          "group": {
            "filter": "/.*/"
          },
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "TOTAL DE ONU"
          },
          "itemTag": {
            "filter": ""
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": true,
            "disableDataAlignment": false,
            "minSeverity": 3,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "refId": "A",
          "resultFormat": "time_series",
          "schema": 12,
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          },
          "triggers": {
            "acknowledged": 2
          }
        }
      ],
      "transformations": [
        {
          "id": "reduce",
          "options": {
            "reducers": [
              "lastNotNull"
            ]
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "includeByName": {},
            "indexByName": {},
            "renameByName": {
              "Last *": "STATUS"
            }
          }
        }
      ],
      "transparent": true,
      "type": "marcusolsson-dynamictext-panel"
    },
    {
      "datasource": {
        "type": "alexanderzobnin-zabbix-datasource",
        "uid": "ff5clh86a2mf4a"
      },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 5,
        "x": 5,
        "y": 10
      },
      "id": 134,
      "options": {
        "afterRender": "",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <link rel=\"stylesheet\" href=\"styles.css\">\n</head>\n\n<body>\n  <div id=\"total-card\" class=\"card\">\n    <div class=\"image-container\">\n      <img src=\"https://cdn-icons-png.flaticon.com/512/190/190411.png\" alt=\"Icone.png\">\n    </div>\n    <div class=\"data-container\">\n      <span class=\"adapted-value\">{{data.[0].[0].ONLINE}}</span>\n      <span class=\"adapted-name\">ONUs <br> ONLINE</span>\n    </div>\n  </div>\n</body>\n\n</html>",
        "contentPartials": [],
        "defaultContent": "The query didn't return any results.",
        "editor": {
          "format": "auto",
          "language": "html"
        },
        "editors": [
          "styles"
        ],
        "externalStyles": [],
        "helpers": "",
        "renderMode": "data",
        "status": "Value",
        "styles": "html, body, .card {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.card {\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: #000513; /* Cor de fundo do cart√£o que combina com o efeito neon */\r\n    border-radius: 20px;\r\n    box-shadow: 0 0 2px #1EB68B, 0 0 4px #1EB68B, 0 0 8px #1EB68B; /* Cor neon */\r\n    color: #FFFFFF; /* Cor do texto */\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n\r\n.image-container {\r\n    flex: 0 0 auto;\r\n    margin: 0 15px;\r\n}\r\n\r\n.image-container img {\r\n    margin-left: 15px;\r\n    border-radius: 15px; /* Tamanho da borda (alterar caso a borda esteja cortando o √≠cone) */\r\n    height: 70px; /* Tamanho do √≠cone */\r\n}\r\n\r\n.data-container  {\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-end;\r\n    overflow: hidden;\r\n    padding-right: 10px;\r\n    text-align: right;\r\n}\r\n\r\n.adapted-value {\r\n    font-size: clamp(30px, 1.25vw, 30px); /* Tamanho inicial e final do texto */\r\n    font-weight: bold;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    width: 100%;\r\n}\r\n\r\n.adapted-name {\r\n    font-size: clamp(10px, 1.25vw, 20px); /* Tamanho inicial e final do subtexto */\r\n    color: #FFFFFF; /* Cor do subtexto */\r\n    margin-top: 10px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    width: 100%;\r\n}\r\n",
        "wrap": true
      },
      "pluginVersion": "6.2.0",
      "targets": [
        {
          "application": {
            "filter": "TOTAIS ONUs"
          },
          "countTriggersBy": "",
          "datasource": {
            "type": "alexanderzobnin-zabbix-datasource",
            "uid": "KW2f6Cc4z"
          },
          "evaltype": "0",
          "functions": [
            {
              "$$hashKey": "object:566",
              "def": {
                "category": "Alias",
                "defaultParams": [],
                "name": "setAlias",
                "params": [
                  {
                    "name": "alias",
                    "type": "string"
                  }
                ]
              },
              "params": [
                "STATUS"
              ],
              "text": "setAlias(TOTAL DE ONU)"
            }
          ],
          "group": {
            "filter": "/.*/"
          },
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "ONUs ONLINE"
          },
          "itemTag": {
            "filter": "Application: TOTAIS ONUs"
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": true,
            "disableDataAlignment": false,
            "minSeverity": 3,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "refId": "A",
          "resultFormat": "time_series",
          "schema": 12,
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          },
          "triggers": {
            "acknowledged": 2
          }
        }
      ],
      "transformations": [
        {
          "id": "reduce",
          "options": {
            "reducers": [
              "lastNotNull"
            ]
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "includeByName": {},
            "indexByName": {},
            "renameByName": {
              "Last *": "ONLINE"
            }
          }
        }
      ],
      "transparent": true,
      "type": "marcusolsson-dynamictext-panel"
    },
    {
      "datasource": {
        "type": "alexanderzobnin-zabbix-datasource",
        "uid": "ff5clh86a2mf4a"
      },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 5,
        "x": 10,
        "y": 10
      },
      "id": 135,
      "options": {
        "afterRender": "",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <link rel=\"stylesheet\" href=\"styles.css\">\n</head>\n\n<body>\n  <div id=\"total-card\" class=\"card\">\n    <div class=\"image-container\">\n      <img src=\"https://cdn-icons-png.flaticon.com/512/190/190406.png\" alt=\"Icone.png\">\n    </div>\n    <div class=\"data-container\">\n      <span class=\"adapted-value\">{{data.[0].[0].OFFLINE}}</span>\n      <span class=\"adapted-name\">ONUs <br> OFFLINE</span>\n    </div>\n  </div>\n</body>\n\n</html>",
        "contentPartials": [],
        "defaultContent": "The query didn't return any results.",
        "editor": {
          "format": "auto",
          "language": "html"
        },
        "editors": [
          "styles"
        ],
        "externalStyles": [],
        "helpers": "",
        "renderMode": "data",
        "status": "Value",
        "styles": "html, body, .card {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.card {\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: #000513; /* Cor de fundo do cart√£o que combina com o efeito neon */\r\n    border-radius: 20px;\r\n    box-shadow: 0 0 2px #1EB68B, 0 0 4px #1EB68B, 0 0 8px #1EB68B; /* Cor neon */\r\n    color: #FFFFFF; /* Cor do texto */\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n\r\n.image-container {\r\n    flex: 0 0 auto;\r\n    margin: 0 15px;\r\n}\r\n\r\n.image-container img {\r\n    margin-left: 15px;\r\n    border-radius: 15px; /* Tamanho da borda (alterar caso a borda esteja cortando o √≠cone) */\r\n    height: 70px; /* Tamanho do √≠cone */\r\n}\r\n\r\n.data-container  {\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-end;\r\n    overflow: hidden;\r\n    padding-right: 10px;\r\n    text-align: right;\r\n}\r\n\r\n.adapted-value {\r\n    font-size: clamp(30px, 1.25vw, 30px); /* Tamanho inicial e final do texto */\r\n    font-weight: bold;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    width: 100%;\r\n}\r\n\r\n.adapted-name {\r\n    font-size: clamp(10px, 1.25vw, 20px); /* Tamanho inicial e final do subtexto */\r\n    color: #FFFFFF; /* Cor do subtexto */\r\n    margin-top: 10px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    width: 100%;\r\n}\r\n",
        "wrap": true
      },
      "pluginVersion": "6.2.0",
      "targets": [
        {
          "application": {
            "filter": "TOTAIS ONUs"
          },
          "countTriggersBy": "",
          "datasource": {
            "type": "alexanderzobnin-zabbix-datasource",
            "uid": "KW2f6Cc4z"
          },
          "evaltype": "0",
          "functions": [
            {
              "$$hashKey": "object:566",
              "def": {
                "category": "Alias",
                "defaultParams": [],
                "name": "setAlias",
                "params": [
                  {
                    "name": "alias",
                    "type": "string"
                  }
                ]
              },
              "params": [
                "STATUS"
              ],
              "text": "setAlias(TOTAL DE ONU)"
            }
          ],
          "group": {
            "filter": "/.*/"
          },
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "ONUs OFFLINE"
          },
          "itemTag": {
            "filter": "Application: TOTAIS ONUs"
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": true,
            "disableDataAlignment": false,
            "minSeverity": 3,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "refId": "A",
          "resultFormat": "time_series",
          "schema": 12,
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          },
          "triggers": {
            "acknowledged": 2
          }
        }
      ],
      "transformations": [
        {
          "id": "reduce",
          "options": {
            "reducers": [
              "lastNotNull"
            ]
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "includeByName": {},
            "indexByName": {},
            "renameByName": {
              "Last *": "OFFLINE"
            }
          }
        }
      ],
      "transparent": true,
      "type": "marcusolsson-dynamictext-panel"
    },
    {
      "datasource": {
        "type": "alexanderzobnin-zabbix-datasource",
        "uid": "ff5clh86a2mf4a"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "decimals": 0,
          "mappings": []
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "ONUs ONLINE"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#1eb68b",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "ONUs OFFLINE"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#2e8b71",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "LINK LOSS"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#386f70",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "DYING GASP"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#00edf0",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "ONUS OFFLINE"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#f20c0c",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 12,
        "w": 9,
        "x": 15,
        "y": 10
      },
      "id": 69,
      "options": {
        "legend": {
          "displayMode": "table",
          "placement": "right",
          "showLegend": true,
          "values": [
            "percent",
            "value"
          ]
        },
        "pieType": "donut",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "sort": "desc",
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.0",
      "targets": [
        {
          "application": {
            "filter": "TOTAIS ONUs"
          },
          "countTriggersBy": "",
          "datasource": {
            "type": "alexanderzobnin-zabbix-datasource",
            "uid": "KW2f6Cc4z"
          },
          "evaltype": "0",
          "functions": [
            {
              "$$hashKey": "object:769",
              "def": {
                "category": "Alias",
                "defaultParams": [],
                "name": "setAlias",
                "params": [
                  {
                    "name": "alias",
                    "type": "string"
                  }
                ]
              },
              "params": [
                "ONUs ONLINE"
              ],
              "text": "setAlias(TOTAL DE ONU ONLINE)"
            }
          ],
          "group": {
            "filter": "/.*/"
          },
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "ONUs ONLINE"
          },
          "itemTag": {
            "filter": ""
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": true,
            "disableDataAlignment": false,
            "minSeverity": 3,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "refId": "A",
          "resultFormat": "time_series",
          "schema": 12,
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          },
          "triggers": {
            "acknowledged": 2
          }
        },
        {
          "application": {
            "filter": "TOTAIS ONUs"
          },
          "countTriggersBy": "",
          "datasource": {
            "type": "alexanderzobnin-zabbix-datasource",
            "uid": "KW2f6Cc4z"
          },
          "evaltype": "0",
          "functions": [
            {
              "$$hashKey": "object:769",
              "def": {
                "category": "Alias",
                "defaultParams": [],
                "name": "setAlias",
                "params": [
                  {
                    "name": "alias",
                    "type": "string"
                  }
                ]
              },
              "params": [
                "ONUS OFFLINE"
              ],
              "text": "setAlias(TOTAL DE ONU ONLINE)"
            }
          ],
          "group": {
            "filter": "/.*/"
          },
          "hide": false,
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "ONUs OFFLINE"
          },
          "itemTag": {
            "filter": ""
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": true,
            "disableDataAlignment": false,
            "minSeverity": 3,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "refId": "D",
          "resultFormat": "time_series",
          "schema": 12,
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          },
          "triggers": {
            "acknowledged": 2
          }
        }
      ],
      "transparent": true,
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "alexanderzobnin-zabbix-datasource",
        "uid": "ff5clh86a2mf4a"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "continuous-greens"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 13,
            "gradientMode": "hue",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "smooth",
            "lineStyle": {
              "fill": "solid"
            },
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "decbytes"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Trafego de Saida na Interface XFP 19/1"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#00edf0",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "  TRAFEGO TOTAL SAIDA"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#0c6a4b",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 15,
        "x": 0,
        "y": 14
      },
      "id": 111,
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull"
          ],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.3.0",
      "targets": [
        {
          "application": {
            "filter": "Network interfaces"
          },
          "countTriggersBy": "",
          "datasource": {
            "type": "alexanderzobnin-zabbix-datasource",
            "uid": "KW2f6Cc4z"
          },
          "evaltype": "0",
          "functions": [
            {
              "$$hashKey": "object:50",
              "def": {
                "category": "Alias",
                "defaultParams": [
                  "/(.*)/",
                  "$1"
                ],
                "name": "replaceAlias",
                "params": [
                  {
                    "name": "regexp",
                    "type": "string"
                  },
                  {
                    "name": "newAlias",
                    "type": "string"
                  }
                ]
              },
              "params": [
                "$OLT:",
                " "
              ],
              "text": "replaceAlias($OLT:,  )"
            }
          ],
          "group": {
            "filter": "/.*/"
          },
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "TRAFEGO TOTAL ENTRADA"
          },
          "itemTag": {
            "filter": ""
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": false,
            "disableDataAlignment": false,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "refId": "A",
          "resultFormat": "time_series",
          "schema": 12,
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          },
          "triggers": {
            "acknowledged": 2
          }
        },
        {
          "application": {
            "filter": "Network interfaces"
          },
          "countTriggersBy": "",
          "datasource": {
            "type": "alexanderzobnin-zabbix-datasource",
            "uid": "KW2f6Cc4z"
          },
          "evaltype": "0",
          "functions": [
            {
              "$$hashKey": "object:50",
              "def": {
                "category": "Alias",
                "defaultParams": [
                  "/(.*)/",
                  "$1"
                ],
                "name": "replaceAlias",
                "params": [
                  {
                    "name": "regexp",
                    "type": "string"
                  },
                  {
                    "name": "newAlias",
                    "type": "string"
                  }
                ]
              },
              "params": [
                "$OLT:",
                " "
              ],
              "text": "replaceAlias($OLT:,  )"
            }
          ],
          "group": {
            "filter": "/.*/"
          },
          "hide": false,
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "TRAFEGO TOTAL SAIDA"
          },
          "itemTag": {
            "filter": ""
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": false,
            "disableDataAlignment": false,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "refId": "B",
          "resultFormat": "time_series",
          "schema": 12,
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          },
          "triggers": {
            "acknowledged": 2
          }
        }
      ],
      "title": "CONSUMO OLT",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 22
      },
      "id": 64,
      "panels": [],
      "title": "INFORMA√á√ïES DA PLACA $PLACA",
      "type": "row"
    },
    {
      "datasource": {
        "type": "alexanderzobnin-zabbix-datasource",
        "uid": "ff5clh86a2mf4a"
      },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 8,
        "x": 0,
        "y": 23
      },
      "id": 137,
      "options": {
        "afterRender": "",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <link rel=\"stylesheet\" href=\"styles.css\">\n</head>\n\n<body>\n  <div id=\"total-card\" class=\"card\">\n    <div class=\"image-container\">\n      <img src=\"https://cdn-icons-png.flaticon.com/512/6485/6485037.png\" alt=\"Icone.png\">\n    </div>\n    <div class=\"data-container\">\n      <span class=\"adapted-value\">{{data.[0].[0].AUTENTICADAS}}</span>\n      <span class=\"adapted-name\">ONUs <br> AUTORIZADAS</span>\n    </div>\n  </div>\n</body>\n\n</html>",
        "contentPartials": [],
        "defaultContent": "The query didn't return any results.",
        "editor": {
          "format": "auto",
          "language": "html"
        },
        "editors": [
          "styles"
        ],
        "externalStyles": [],
        "helpers": "",
        "renderMode": "data",
        "status": "Value",
        "styles": "html, body, .card {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.card {\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: #000513; /* Cor de fundo do cart√£o que combina com o efeito neon */\r\n    border-radius: 20px;\r\n    box-shadow: 0 0 2px #1EB68B, 0 0 4px #1EB68B, 0 0 8px #1EB68B; /* Cor neon */\r\n    color: #FFFFFF; /* Cor do texto */\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n\r\n.image-container {\r\n    flex: 0 0 auto;\r\n    margin: 0 15px;\r\n}\r\n\r\n.image-container img {\r\n    margin-left: 15px;\r\n    border-radius: 15px; /* Tamanho da borda (alterar caso a borda esteja cortando o √≠cone) */\r\n    height: 70px; /* Tamanho do √≠cone */\r\n}\r\n\r\n.data-container  {\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-end;\r\n    overflow: hidden;\r\n    padding-right: 10px;\r\n    text-align: right;\r\n}\r\n\r\n.adapted-value {\r\n    font-size: clamp(30px, 1.25vw, 30px); /* Tamanho inicial e final do texto */\r\n    font-weight: bold;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    width: 100%;\r\n}\r\n\r\n.adapted-name {\r\n    font-size: clamp(10px, 1.25vw, 20px); /* Tamanho inicial e final do subtexto */\r\n    color: #FFFFFF; /* Cor do subtexto */\r\n    margin-top: 10px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    width: 100%;\r\n}\r\n",
        "wrap": true
      },
      "pluginVersion": "6.2.0",
      "targets": [
        {
          "application": {
            "filter": ""
          },
          "countTriggersBy": "",
          "dataset": "performance_schema",
          "datasource": {
            "type": "mysql",
            "uid": "eelvlbtb2pam8c"
          },
          "editorMode": "code",
          "evaltype": "0",
          "format": "table",
          "functions": [],
          "group": {
            "filter": "/.*/"
          },
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "/$PLACA/(.*)/"
          },
          "itemTag": {
            "filter": "Application: AUTENTICADAS_PON"
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": false,
            "disableDataAlignment": false,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "rawQuery": true,
          "rawSql": "SELECT \r\n   SUM(AUTENTICADAS) AS \"AUTENTICADAS\"\r\nFROM (\r\n    SELECT \r\n       a.name AS PON,\r\n        MAX(CASE WHEN t.value = 'AUTENTICADAS_PON' \r\n                 THEN (SELECT hu.value \r\n                       FROM history_uint hu \r\n                       WHERE hu.itemid = a.itemid \r\n                       ORDER BY hu.clock DESC \r\n                       LIMIT 1) \r\n            END) AS AUTENTICADAS\r\n    FROM items a\r\n    INNER JOIN item_tag t \r\n        ON t.itemid = a.itemid\r\n        AND t.value IN ('AUTENTICADAS_PON')\r\n    LEFT JOIN hosts AS c ON c.hostid = a.hostid\r\n    WHERE c.host = '$OLT' \r\n      AND a.flags = 4 \r\n      AND a.name LIKE '%PON%' \r\n      AND SUBSTRING_INDEX(SUBSTRING_INDEX(a.name, '/', 2), '/', -1) = $PLACA\r\n    GROUP BY PON\r\n) AS subquery;\r\n",
          "refId": "A",
          "resultFormat": "time_series",
          "schema": 12,
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          },
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          }
        }
      ],
      "transformations": [
        {
          "id": "reduce",
          "options": {
            "includeTimeField": false,
            "labelsToFields": false,
            "mode": "seriesToRows",
            "reducers": [
              "lastNotNull"
            ]
          }
        },
        {
          "id": "extractFields",
          "options": {
            "delimiter": ",",
            "format": "regexp",
            "keepTime": false,
            "regExp": "/(?<item>(TOTAL\\s+\\w+|TEMPERATURA|TX POWER|Entrada|Saida|Status|OCUPACAO))/",
            "replace": false,
            "source": "Field"
          }
        },
        {
          "id": "groupBy",
          "options": {
            "fields": {
              "Last *": {
                "aggregations": [
                  "sum"
                ],
                "operation": "aggregate"
              },
              "item": {
                "aggregations": [],
                "operation": "groupby"
              }
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "includeByName": {},
            "indexByName": {},
            "renameByName": {
              "Last * (sum)": "AUTENTICADAS"
            }
          }
        }
      ],
      "transparent": true,
      "type": "marcusolsson-dynamictext-panel"
    },
    {
      "datasource": {
        "type": "alexanderzobnin-zabbix-datasource",
        "uid": "ff5clh86a2mf4a"
      },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 8,
        "x": 8,
        "y": 23
      },
      "id": 138,
      "options": {
        "afterRender": "",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <link rel=\"stylesheet\" href=\"styles.css\">\n</head>\n\n<body>\n  <div id=\"total-card\" class=\"card\">\n    <div class=\"image-container\">\n      <img src=\"https://cdn-icons-png.flaticon.com/512/190/190411.png\" alt=\"Icone.png\">\n    </div>\n    <div class=\"data-container\">\n      <span class=\"adapted-value\">{{data.[0].[0].ONLINE}}</span>\n      <span class=\"adapted-name\">ONUs <br> ONLINE</span>\n    </div>\n  </div>\n</body>\n\n</html>",
        "contentPartials": [],
        "defaultContent": "The query didn't return any results.",
        "editor": {
          "format": "auto",
          "language": "html"
        },
        "editors": [
          "styles"
        ],
        "externalStyles": [],
        "helpers": "",
        "renderMode": "data",
        "status": "Value",
        "styles": "html, body, .card {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.card {\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: #000513; /* Cor de fundo do cart√£o que combina com o efeito neon */\r\n    border-radius: 20px;\r\n    box-shadow: 0 0 2px #1EB68B, 0 0 4px #1EB68B, 0 0 8px #1EB68B; /* Cor neon */\r\n    color: #FFFFFF; /* Cor do texto */\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n\r\n.image-container {\r\n    flex: 0 0 auto;\r\n    margin: 0 15px;\r\n}\r\n\r\n.image-container img {\r\n    margin-left: 15px;\r\n    border-radius: 15px; /* Tamanho da borda (alterar caso a borda esteja cortando o √≠cone) */\r\n    height: 70px; /* Tamanho do √≠cone */\r\n}\r\n\r\n.data-container  {\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-end;\r\n    overflow: hidden;\r\n    padding-right: 10px;\r\n    text-align: right;\r\n}\r\n\r\n.adapted-value {\r\n    font-size: clamp(30px, 1.25vw, 30px); /* Tamanho inicial e final do texto */\r\n    font-weight: bold;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    width: 100%;\r\n}\r\n\r\n.adapted-name {\r\n    font-size: clamp(10px, 1.25vw, 20px); /* Tamanho inicial e final do subtexto */\r\n    color: #FFFFFF; /* Cor do subtexto */\r\n    margin-top: 10px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    width: 100%;\r\n}\r\n",
        "wrap": true
      },
      "pluginVersion": "6.2.0",
      "targets": [
        {
          "application": {
            "filter": ""
          },
          "countTriggersBy": "",
          "dataset": "performance_schema",
          "datasource": {
            "type": "mysql",
            "uid": "eelvlbtb2pam8c"
          },
          "editorMode": "code",
          "evaltype": "0",
          "format": "table",
          "functions": [],
          "group": {
            "filter": "/.*/"
          },
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "/$PLACA/(.*)/"
          },
          "itemTag": {
            "filter": "Application: ONLINE_PON"
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": false,
            "disableDataAlignment": false,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "rawQuery": true,
          "rawSql": "SELECT \r\n   SUM(AUTENTICADAS) AS \"AUTENTICADAS\"\r\nFROM (\r\n    SELECT \r\n       a.name AS PON,\r\n        MAX(CASE WHEN t.value = 'ONLINE_PON' \r\n                 THEN (SELECT hu.value \r\n                       FROM history_uint hu \r\n                       WHERE hu.itemid = a.itemid \r\n                       ORDER BY hu.clock DESC \r\n                       LIMIT 1) \r\n            END) AS AUTENTICADAS\r\n    FROM items a\r\n    INNER JOIN item_tag t \r\n        ON t.itemid = a.itemid\r\n        AND t.value IN ('ONLINE_PON')\r\n    LEFT JOIN hosts AS c ON c.hostid = a.hostid\r\n    WHERE c.host = '$OLT' \r\n      AND a.flags = 4 \r\n      AND a.name LIKE '%PON%' \r\n      AND SUBSTRING_INDEX(SUBSTRING_INDEX(a.name, '/', 2), '/', -1) = $PLACA\r\n    GROUP BY PON\r\n) AS subquery;\r\n",
          "refId": "A",
          "resultFormat": "time_series",
          "schema": 12,
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          },
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          }
        }
      ],
      "transformations": [
        {
          "id": "reduce",
          "options": {
            "labelsToFields": false,
            "reducers": [
              "lastNotNull"
            ]
          }
        },
        {
          "id": "extractFields",
          "options": {
            "delimiter": ",",
            "format": "regexp",
            "keepTime": false,
            "regExp": "/(?<item>(TOTAL\\s+\\w+|TEMPERATURA|TX POWER|Entrada|Saida|Status|OCUPACAO))/",
            "replace": false,
            "source": "Field"
          }
        },
        {
          "id": "groupBy",
          "options": {
            "fields": {
              "Last *": {
                "aggregations": [
                  "sum"
                ],
                "operation": "aggregate"
              },
              "item": {
                "aggregations": [],
                "operation": "groupby"
              }
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "includeByName": {},
            "indexByName": {},
            "renameByName": {
              "Last * (sum)": "ONLINE"
            }
          }
        }
      ],
      "transparent": true,
      "type": "marcusolsson-dynamictext-panel"
    },
    {
      "datasource": {
        "type": "alexanderzobnin-zabbix-datasource",
        "uid": "ff5clh86a2mf4a"
      },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 8,
        "x": 16,
        "y": 23
      },
      "id": 139,
      "options": {
        "afterRender": "",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <link rel=\"stylesheet\" href=\"styles.css\">\n</head>\n\n<body>\n  <div id=\"total-card\" class=\"card\">\n    <div class=\"image-container\">\n      <img src=\"https://cdn-icons-png.flaticon.com/512/190/190406.png\" alt=\"Icone.png\">\n    </div>\n    <div class=\"data-container\">\n      <span class=\"adapted-value\">{{data.[0].[0].OFFLINE}}</span>\n      <span class=\"adapted-name\">ONUs <br> OFFLINE</span>\n    </div>\n  </div>\n</body>\n\n</html>",
        "contentPartials": [],
        "defaultContent": "The query didn't return any results.",
        "editor": {
          "format": "auto",
          "language": "html"
        },
        "editors": [
          "styles"
        ],
        "externalStyles": [],
        "helpers": "",
        "renderMode": "data",
        "status": "Value",
        "styles": "html, body, .card {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.card {\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: #000513; /* Cor de fundo do cart√£o que combina com o efeito neon */\r\n    border-radius: 20px;\r\n    box-shadow: 0 0 2px #1EB68B, 0 0 4px #1EB68B, 0 0 8px #1EB68B; /* Cor neon */\r\n    color: #FFFFFF; /* Cor do texto */\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n\r\n.image-container {\r\n    flex: 0 0 auto;\r\n    margin: 0 15px;\r\n}\r\n\r\n.image-container img {\r\n    margin-left: 15px;\r\n    border-radius: 15px; /* Tamanho da borda (alterar caso a borda esteja cortando o √≠cone) */\r\n    height: 70px; /* Tamanho do √≠cone */\r\n}\r\n\r\n.data-container  {\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-end;\r\n    overflow: hidden;\r\n    padding-right: 10px;\r\n    text-align: right;\r\n}\r\n\r\n.adapted-value {\r\n    font-size: clamp(30px, 1.25vw, 30px); /* Tamanho inicial e final do texto */\r\n    font-weight: bold;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    width: 100%;\r\n}\r\n\r\n.adapted-name {\r\n    font-size: clamp(10px, 1.25vw, 20px); /* Tamanho inicial e final do subtexto */\r\n    color: #FFFFFF; /* Cor do subtexto */\r\n    margin-top: 10px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    width: 100%;\r\n}\r\n",
        "wrap": true
      },
      "pluginVersion": "6.2.0",
      "targets": [
        {
          "application": {
            "filter": ""
          },
          "countTriggersBy": "",
          "dataset": "performance_schema",
          "datasource": {
            "type": "mysql",
            "uid": "eelvlbtb2pam8c"
          },
          "editorMode": "code",
          "evaltype": "0",
          "format": "table",
          "functions": [],
          "group": {
            "filter": "/.*/"
          },
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "/$PLACA/(.*)/"
          },
          "itemTag": {
            "filter": "Application: OFFLINE_PON"
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": false,
            "disableDataAlignment": false,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "rawQuery": true,
          "rawSql": "SELECT \r\n   SUM(AUTENTICADAS) AS \"AUTENTICADAS\"\r\nFROM (\r\n    SELECT \r\n       a.name AS PON,\r\n        MAX(CASE WHEN t.value = 'OFFLINE_PON' \r\n                 THEN (SELECT hu.value \r\n                       FROM history_uint hu \r\n                       WHERE hu.itemid = a.itemid \r\n                       ORDER BY hu.clock DESC \r\n                       LIMIT 1) \r\n            END) AS AUTENTICADAS\r\n    FROM items a\r\n    INNER JOIN item_tag t \r\n        ON t.itemid = a.itemid\r\n        AND t.value IN ('OFFLINE_PON')\r\n    LEFT JOIN hosts AS c ON c.hostid = a.hostid\r\n    WHERE c.host = '$OLT' \r\n      AND a.flags = 4 \r\n      AND a.name LIKE '%PON%' \r\n      AND SUBSTRING_INDEX(SUBSTRING_INDEX(a.name, '/', 2), '/', -1) = $PLACA\r\n    GROUP BY PON\r\n) AS subquery;\r\n",
          "refId": "A",
          "resultFormat": "time_series",
          "schema": 12,
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          },
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          }
        }
      ],
      "transformations": [
        {
          "id": "reduce",
          "options": {
            "reducers": [
              "lastNotNull"
            ]
          }
        },
        {
          "id": "extractFields",
          "options": {
            "delimiter": ",",
            "format": "regexp",
            "regExp": "/(?<item>(TOTAL\\s+\\w+|TEMPERATURA|TX POWER|Entrada|Saida|Status|OCUPACAO))/",
            "source": "Field"
          }
        },
        {
          "id": "groupBy",
          "options": {
            "fields": {
              "Last *": {
                "aggregations": [
                  "sum"
                ],
                "operation": "aggregate"
              },
              "item": {
                "aggregations": [],
                "operation": "groupby"
              }
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "includeByName": {},
            "indexByName": {},
            "renameByName": {
              "Last * (sum)": "OFFLINE"
            }
          }
        }
      ],
      "transparent": true,
      "type": "marcusolsson-dynamictext-panel"
    },
    {
      "datasource": {
        "type": "alexanderzobnin-zabbix-datasource",
        "uid": "ff5clh86a2mf4a"
      },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 34,
        "w": 24,
        "x": 0,
        "y": 27
      },
      "id": 140,
      "options": {
        "afterRender": "// JavaScript para processar barras empilhadas e temperatura AP√ìS o Handlebars renderizar\r\n// Este c√≥digo deve ser inserido no campo \"After Content Rendering\" do Grafana\r\n// Dashboard de Detalhamento das PONs\r\n\r\n(function () {\r\n  function calculateStackedBars() {\r\n    const stackedBars = document.querySelectorAll('.stacked-bar');\r\n\r\n    stackedBars.forEach(function (bar) {\r\n      const onlineSeg = bar.querySelector('.stacked-online');\r\n      const offlineSeg = bar.querySelector('.stacked-offline');\r\n\r\n      if (!onlineSeg || !offlineSeg) return;\r\n\r\n      const online = parseInt(onlineSeg.getAttribute('data-value')) || 0;\r\n      const offline = parseInt(offlineSeg.getAttribute('data-value')) || 0;\r\n      const total = parseInt(bar.getAttribute('data-total')) || 1;\r\n\r\n      // Calcula percentuais baseado no total\r\n      if (total > 0) {\r\n        const onlinePercent = (online / total) * 100;\r\n        const offlinePercent = (offline / total) * 100;\r\n\r\n        onlineSeg.style.width = onlinePercent + '%';\r\n        offlineSeg.style.width = offlinePercent + '%';\r\n        onlineSeg.style.display = online > 0 ? 'block' : 'none';\r\n        offlineSeg.style.display = offline > 0 ? 'block' : 'none';\r\n      }\r\n    });\r\n  }\r\n\r\n  function processTemperature() {\r\n    const tempCells = document.querySelectorAll('.temperatura-cell');\r\n\r\n    tempCells.forEach(function (cell) {\r\n      const tempValueSpan = cell.querySelector('.temp-value');\r\n      if (!tempValueSpan) return;\r\n\r\n      const tempStr = tempValueSpan.textContent.trim() || '';\r\n      // Extrai n√∫mero da string (ex: \"52 ¬∞C\" -> 52)\r\n      const tempMatch = tempStr.match(/(\\d+)/);\r\n\r\n      if (tempMatch) {\r\n        const tempNum = parseInt(tempMatch[1]);\r\n        let tempIcon = cell.querySelector('.temp-icon');\r\n\r\n        // Cria √≠cone se n√£o existir\r\n        if (!tempIcon) {\r\n          tempIcon = document.createElement('img');\r\n          tempIcon.className = 'temp-icon';\r\n          cell.insertBefore(tempIcon, tempValueSpan);\r\n        }\r\n\r\n        // Remove classes existentes\r\n        tempValueSpan.classList.remove('temp-normal', 'temp-high');\r\n\r\n        // Atualiza √≠cone e cor baseado na temperatura\r\n        if (tempNum >= 50) {\r\n          tempIcon.src = 'https://cdn-icons-png.flaticon.com/512/11792/11792086.png';\r\n          tempIcon.alt = 'Temperatura Alta';\r\n          tempValueSpan.classList.add('temp-high');\r\n        } else {\r\n          tempIcon.src = 'https://cdn-icons-png.flaticon.com/512/14397/14397261.png';\r\n          tempIcon.alt = 'Temperatura';\r\n          tempValueSpan.classList.add('temp-normal');\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  function init() {\r\n    calculateStackedBars();\r\n    processTemperature();\r\n  }\r\n\r\n  // Executa quando o DOM estiver pronto\r\n  if (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', init);\r\n  } else {\r\n    init();\r\n  }\r\n\r\n  // Re-executa ap√≥s delays para garantir que o Handlebars renderizou\r\n  setTimeout(init, 100);\r\n  setTimeout(init, 500);\r\n  setTimeout(init, 1000);\r\n})();\r\n",
        "content": "<div class=\"dashboard-container\">\r\n  <div class=\"table-wrapper\">\r\n    <table class=\"pons-table\">\r\n      <tbody>\r\n        {{#each @root.data}}\r\n        {{#each this}}\r\n        <tr class=\"pon-row\" data-status=\"{{STATUS}}\">\r\n          <td class=\"pon-name\">{{PON}}</td>\r\n          <td class=\"conexoes-cell\">\r\n            <div class=\"conexoes-container\">\r\n              <div class=\"stacked-bar-wrapper\">\r\n                <div class=\"stacked-bar\" data-total=\"{{AUTENTICADAS}}\">\r\n                  <div class=\"stacked-segment stacked-online\" data-value=\"{{ONLINE}}\"></div>\r\n                  <div class=\"stacked-segment stacked-offline\" data-value=\"{{OFFLINE}}\"></div>\r\n                </div>\r\n              </div>\r\n              <div class=\"conexoes-values\">\r\n                <span class=\"value-online\">ONLINE: {{ONLINE}}</span>\r\n                <span class=\"value-offline\">OFFLINE: {{OFFLINE}}</span>\r\n                <span class=\"value-total\">Total: {{AUTENTICADAS}}</span>\r\n              </div>\r\n            </div>\r\n          </td>\r\n          <td class=\"temperatura-cell\">\r\n            <span class=\"temp-value\">{{lookup . \"TEMPERATURA\"}}</span>\r\n          </td>\r\n          <td class=\"potencia-cell\">{{lookup . \"POT√äNCIA DE SA√çDA\"}} dBm</td>\r\n          <td class=\"status-cell\">\r\n            {{#if (eq STATUS 1)}}\r\n            <div class=\"status-indicator status-up\">\r\n              <span class=\"status-dot\"></span>\r\n              <span class=\"status-text\">UP</span>\r\n            </div>\r\n            {{else}}\r\n            <div class=\"status-indicator status-down\">\r\n              <span class=\"status-dot\"></span>\r\n              <span class=\"status-text\">DOWN</span>\r\n            </div>\r\n            {{/if}}\r\n          </td>\r\n        </tr>\r\n        {{/each}}\r\n        {{/each}}\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</div>",
        "contentPartials": [],
        "defaultContent": "The query didn't return any results.",
        "editor": {
          "format": "auto",
          "language": "html"
        },
        "editors": [
          "styles",
          "afterRender"
        ],
        "externalStyles": [],
        "helpers": "",
        "renderMode": "data",
        "styles": "@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\r\n\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody, html {\r\n  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\r\n  background: #0F1419;\r\n  color: #E4E7EB;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  margin: 0;\r\n  padding: 0;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\n.dashboard-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  padding: clamp(16px, 2vw, 24px);\r\n}\r\n\r\n.dashboard-header {\r\n  margin-bottom: clamp(16px, 2vw, 24px);\r\n  padding-bottom: clamp(12px, 1.5vw, 16px);\r\n  border-bottom: 2px solid rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.dashboard-title {\r\n  font-size: clamp(20px, 2.5vw, 28px);\r\n  font-weight: 700;\r\n  color: #F9FAFB;\r\n  letter-spacing: 0.5px;\r\n  text-transform: uppercase;\r\n}\r\n\r\n.table-wrapper {\r\n  flex: 1;\r\n  overflow: auto;\r\n  scroll-behavior: smooth;\r\n  scrollbar-width: thin;\r\n  scrollbar-color: rgba(255, 255, 255, 0.1) transparent;\r\n}\r\n\r\n.table-wrapper::-webkit-scrollbar {\r\n  width: 8px;\r\n  height: 8px;\r\n}\r\n\r\n.table-wrapper::-webkit-scrollbar-track {\r\n  background: transparent;\r\n}\r\n\r\n.table-wrapper::-webkit-scrollbar-thumb {\r\n  background: rgba(255, 255, 255, 0.1);\r\n  border-radius: 4px;\r\n}\r\n\r\n.table-wrapper::-webkit-scrollbar-thumb:hover {\r\n  background: rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.pons-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  background: #1A1F2E;\r\n  border-radius: clamp(12px, 1.25vw, 16px);\r\n  overflow: hidden;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.pons-table thead {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(139, 92, 246, 0.15) 100%);\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 10;\r\n}\r\n\r\n.pons-table th {\r\n  padding: clamp(8px, 1vw, 12px) clamp(12px, 1.5vw, 16px);\r\n  text-align: left;\r\n  font-weight: 600;\r\n  font-size: clamp(12px, 1.25vw, 14px);\r\n  color: #F9FAFB;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n  border-bottom: 2px solid rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.pons-table tbody tr {\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.05);\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.pons-table tbody tr:hover {\r\n  background: rgba(255, 255, 255, 0.03);\r\n}\r\n\r\n.pons-table tbody tr:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.pons-table td {\r\n  padding: clamp(6px, 0.75vw, 10px) clamp(12px, 1.5vw, 16px);\r\n  font-size: clamp(13px, 1.25vw, 15px);\r\n  color: #D1D5DB;\r\n  vertical-align: middle;\r\n}\r\n\r\n/* Colunas espec√≠ficas */\r\n.col-pon {\r\n  min-width: 120px;\r\n  width: 15%;\r\n}\r\n\r\n.col-conexoes {\r\n  min-width: 300px;\r\n  width: 35%;\r\n}\r\n\r\n.col-temperatura,\r\n.col-potencia {\r\n  min-width: 120px;\r\n  width: 15%;\r\n}\r\n\r\n.col-status {\r\n  min-width: 100px;\r\n  width: 10%;\r\n  text-align: center;\r\n}\r\n\r\n.pon-name {\r\n  font-weight: 600;\r\n  color: #F9FAFB;\r\n  font-family: 'Courier New', monospace;\r\n}\r\n\r\n/* Container de conex√µes com barra empilhada */\r\n.conexoes-cell {\r\n  padding: clamp(6px, 0.75vw, 10px) !important;\r\n}\r\n\r\n.conexoes-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  gap: clamp(6px, 0.75vw, 8px);\r\n  min-width: 0;\r\n}\r\n\r\n/* Barra empilhada */\r\n.stacked-bar-wrapper {\r\n  width: 100%;\r\n  min-width: 150px;\r\n}\r\n\r\n.stacked-bar {\r\n  height: clamp(18px, 2vw, 22px);\r\n  background: rgba(255, 255, 255, 0.05);\r\n  border-radius: clamp(4px, 0.5vw, 6px);\r\n  overflow: hidden;\r\n  position: relative;\r\n  display: flex;\r\n  width: 100%;\r\n  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.stacked-bar:hover {\r\n  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2), 0 0 12px rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.stacked-segment {\r\n  height: 100%;\r\n  transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);\r\n  position: relative;\r\n  min-width: 2px;\r\n}\r\n\r\n.stacked-online {\r\n  background: linear-gradient(90deg, #10B981 0%, #059669 100%);\r\n  box-shadow: 0 0 8px rgba(16, 185, 129, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2);\r\n  border-right: 1px solid rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.stacked-online::after {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.25) 50%, transparent 100%);\r\n  animation: shimmer 2.5s infinite;\r\n  pointer-events: none;\r\n}\r\n\r\n.stacked-offline {\r\n  background: linear-gradient(90deg, #EF4444 0%, #DC2626 100%);\r\n  box-shadow: 0 0 8px rgba(239, 68, 68, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.15);\r\n}\r\n\r\n.stacked-offline::after {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.2) 50%, transparent 100%);\r\n  animation: shimmer 2.5s infinite;\r\n  pointer-events: none;\r\n}\r\n\r\n@keyframes shimmer {\r\n  0% {\r\n    transform: translateX(-100%);\r\n  }\r\n  100% {\r\n    transform: translateX(100%);\r\n  }\r\n}\r\n\r\n/* Valores de conex√µes horizontalmente */\r\n.conexoes-values {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: clamp(8px, 1vw, 12px);\r\n  font-size: clamp(10px, 1vw, 12px);\r\n  line-height: 1.2;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.value-online {\r\n  color: #10B981;\r\n  font-weight: 600;\r\n  white-space: nowrap;\r\n}\r\n\r\n.value-offline {\r\n  color: #EF4444;\r\n  font-weight: 600;\r\n  white-space: nowrap;\r\n}\r\n\r\n.value-total {\r\n  color: #D1D5DB;\r\n  font-weight: 500;\r\n  white-space: nowrap;\r\n}\r\n\r\n/* Temperatura com √≠cone */\r\n.temperatura-cell {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: clamp(6px, 0.75vw, 10px);\r\n  font-weight: 500;\r\n  font-family: 'Courier New', monospace;\r\n}\r\n\r\n.temp-icon {\r\n  width: clamp(20px, 2vw, 24px);\r\n  height: clamp(20px, 2vw, 24px);\r\n  flex-shrink: 0;\r\n  object-fit: contain;\r\n}\r\n\r\n.temp-value {\r\n  font-size: clamp(13px, 1.25vw, 15px);\r\n  transition: color 0.3s ease;\r\n}\r\n\r\n.temp-value.temp-normal {\r\n  color: #10B981;\r\n}\r\n\r\n.temp-value.temp-high {\r\n  color: #EF4444;\r\n  font-weight: 600;\r\n}\r\n\r\n/* Pot√™ncia */\r\n.potencia-cell {\r\n  font-weight: 500;\r\n  color: #D1D5DB;\r\n  font-family: 'Courier New', monospace;\r\n}\r\n\r\n/* Status Indicator */\r\n.status-cell {\r\n  text-align: center !important;\r\n}\r\n\r\n.status-indicator {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: clamp(6px, 0.75vw, 8px);\r\n  padding: clamp(4px, 0.5vw, 6px) clamp(10px, 1.25vw, 12px);\r\n  border-radius: clamp(16px, 2vw, 20px);\r\n  font-weight: 600;\r\n  font-size: clamp(11px, 1.1vw, 13px);\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n}\r\n\r\n.status-dot {\r\n  width: clamp(8px, 1vw, 10px);\r\n  height: clamp(8px, 1vw, 10px);\r\n  border-radius: 50%;\r\n  display: inline-block;\r\n  animation: pulse-dot 2s ease-in-out infinite;\r\n}\r\n\r\n.status-up {\r\n  background: rgba(16, 185, 129, 0.15);\r\n  color: #10B981;\r\n}\r\n\r\n.status-up .status-dot {\r\n  background: #10B981;\r\n  box-shadow: 0 0 8px rgba(16, 185, 129, 0.6);\r\n}\r\n\r\n.status-down {\r\n  background: rgba(239, 68, 68, 0.15);\r\n  color: #EF4444;\r\n}\r\n\r\n.status-down .status-dot {\r\n  background: #EF4444;\r\n  box-shadow: 0 0 8px rgba(239, 68, 68, 0.6);\r\n}\r\n\r\n@keyframes pulse-dot {\r\n  0%, 100% {\r\n    opacity: 1;\r\n    transform: scale(1);\r\n  }\r\n  50% {\r\n    opacity: 0.7;\r\n    transform: scale(0.95);\r\n  }\r\n}\r\n\r\n/* Linhas com status DOWN - estilo diferenciado */\r\n.pon-row[data-status=\"2\"] {\r\n  opacity: 0.7;\r\n  background: rgba(239, 68, 68, 0.03);\r\n}\r\n\r\n.pon-row[data-status=\"2\"]:hover {\r\n  opacity: 0.9;\r\n  background: rgba(239, 68, 68, 0.05);\r\n}\r\n\r\n/* Responsividade */\r\n@media (max-width: 1400px) {\r\n  .col-conexoes {\r\n    min-width: 280px;\r\n  }\r\n}\r\n\r\n@media (max-width: 1200px) {\r\n  .pons-table {\r\n    font-size: 12px;\r\n  }\r\n  \r\n  .conexoes-container {\r\n    gap: 6px;\r\n  }\r\n  \r\n  .stacked-bar-wrapper {\r\n    width: 100%;\r\n  }\r\n  \r\n  .conexoes-values {\r\n    gap: 6px;\r\n    font-size: 10px;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .dashboard-container {\r\n    padding: 12px;\r\n  }\r\n  \r\n  .pons-table {\r\n    display: block;\r\n    overflow-x: auto;\r\n    white-space: nowrap;\r\n  }\r\n  \r\n  .pons-table thead,\r\n  .pons-table tbody,\r\n  .pons-table tr,\r\n  .pons-table td,\r\n  .pons-table th {\r\n    display: block;\r\n  }\r\n  \r\n  .pons-table thead {\r\n    display: none;\r\n  }\r\n  \r\n  .pons-table tr {\r\n    margin-bottom: 16px;\r\n    border: 1px solid rgba(255, 255, 255, 0.1);\r\n    border-radius: 8px;\r\n    padding: 12px;\r\n  }\r\n  \r\n  .pons-table td {\r\n    padding: 8px 0;\r\n    border-bottom: 1px solid rgba(255, 255, 255, 0.05);\r\n  }\r\n  \r\n  .pons-table td:before {\r\n    content: attr(data-label) \": \";\r\n    font-weight: 600;\r\n    color: #9CA3AF;\r\n    margin-right: 8px;\r\n  }\r\n}\r\n",
        "wrap": true
      },
      "pluginVersion": "6.2.0",
      "targets": [
        {
          "application": {
            "filter": ""
          },
          "countTriggersBy": "",
          "dataset": "performance_schema",
          "datasource": {
            "type": "mysql",
            "uid": "eelvlbtb2pam8c"
          },
          "editorMode": "code",
          "evaltype": "0",
          "format": "table",
          "functions": [],
          "group": {
            "filter": "/.*/"
          },
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "/GPON 0/$PLACA/(.*)/"
          },
          "itemTag": {
            "filter": "Application: AUTENTICADAS_PON"
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": false,
            "disableDataAlignment": false,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "rawQuery": true,
          "rawSql": "\r\nSELECT \r\n   REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(\r\n        REPLACE(\r\n            REPLACE(\r\n                REPLACE(a.name, ' - TOTAL AUTENTICADAS', ''), \r\n                ' - TOTAL ONLINE', ''\r\n            ), \r\n            ' - TOTAL OFFLINE', ''\r\n        ), \r\n        ' - TEMPERATURA', ''\r\n    ),\r\n    ' - TX POWER', ''),\r\n    'Status da interface  ', ''),\r\n    'Trafego de Entrada na Interface ',''),\r\n    'Trafego de Saida na Interface ','') AS PON,\r\n    MAX(CASE WHEN t.value = 'AUTENTICADAS_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS AUTENTICADAS,\r\n        MAX(CASE WHEN t.value = 'ONLINE_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS ONLINE,\r\n            MAX(CASE WHEN t.value = 'OFFLINE_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS OFFLINE,\r\n    MAX(CASE WHEN t.value = 'TEMPERATURA_PON' \r\n             THEN (SELECT h.value FROM history_uint h WHERE h.itemid = a.itemid ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS TEMPERATURA,\r\n    MAX(CASE WHEN t.value = 'POTENCIA_PON' \r\n             THEN (SELECT h.value FROM history_uint h WHERE h.itemid = a.itemid ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS \"POT√äNCIA DE SA√çDA\",\r\n    MAX(CASE WHEN t.value = 'Net_status' \r\n             THEN (SELECT h.value FROM history_uint h WHERE h.itemid = a.itemid ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS STATUS,\r\n    MAX(CASE WHEN t.value = 'Network' \r\n             THEN (SELECT h.value FROM history_uint h join items as z on z.itemid = h.itemid\r\n              WHERE h.itemid = a.itemid and z.name like '%Entrada%' ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS ENTRADA,\r\n        MAX(CASE WHEN t.value = 'Network' \r\n             THEN (SELECT h.value FROM history_uint h join items as z on z.itemid = h.itemid\r\n              WHERE h.itemid = a.itemid and z.name like '%Saida%' ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS SA√çDA,\r\n        (MAX(CASE WHEN t.value = 'AUTENTICADAS_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END)/128)*100 AS OCUPA√á√ÉO\r\nFROM items a\r\nINNER JOIN item_tag t \r\n    ON t.itemid = a.itemid\r\n    AND t.value IN ('AUTENTICADAS_PON', 'TEMPERATURA_PON', 'POTENCIA_PON', \r\n                    'OFFLINE_PON', 'ONLINE_PON', 'Net_status','Network')\r\nleft join hosts as c on c.hostid = a.hostid\r\nWHERE c.host = '$OLT' and a.flags = 4 and a.name like '%GPON%' AND SUBSTRING_INDEX(SUBSTRING_INDEX(a.name, '/', 2), '/', -1) = $PLACA\r\nGROUP BY PON",
          "refId": "A",
          "resultFormat": "time_series",
          "schema": 12,
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          },
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          }
        },
        {
          "application": {
            "filter": ""
          },
          "countTriggersBy": "",
          "dataset": "performance_schema",
          "datasource": {
            "type": "mysql",
            "uid": "eelvlbtb2pam8c"
          },
          "editorMode": "code",
          "evaltype": "0",
          "format": "table",
          "functions": [],
          "group": {
            "filter": "/.*/"
          },
          "hide": false,
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "/GPON 0/$PLACA/(.*)/"
          },
          "itemTag": {
            "filter": "Application: ONLINE_PON"
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": false,
            "disableDataAlignment": false,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "rawQuery": true,
          "rawSql": "\r\nSELECT \r\n   REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(\r\n        REPLACE(\r\n            REPLACE(\r\n                REPLACE(a.name, ' - TOTAL AUTENTICADAS', ''), \r\n                ' - TOTAL ONLINE', ''\r\n            ), \r\n            ' - TOTAL OFFLINE', ''\r\n        ), \r\n        ' - TEMPERATURA', ''\r\n    ),\r\n    ' - TX POWER', ''),\r\n    'Status da interface  ', ''),\r\n    'Trafego de Entrada na Interface ',''),\r\n    'Trafego de Saida na Interface ','') AS PON,\r\n    MAX(CASE WHEN t.value = 'AUTENTICADAS_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS AUTENTICADAS,\r\n        MAX(CASE WHEN t.value = 'ONLINE_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS ONLINE,\r\n            MAX(CASE WHEN t.value = 'OFFLINE_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS OFFLINE,\r\n    MAX(CASE WHEN t.value = 'TEMPERATURA_PON' \r\n             THEN (SELECT h.value FROM history_uint h WHERE h.itemid = a.itemid ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS TEMPERATURA,\r\n    MAX(CASE WHEN t.value = 'POTENCIA_PON' \r\n             THEN (SELECT h.value FROM history_uint h WHERE h.itemid = a.itemid ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS \"POT√äNCIA DE SA√çDA\",\r\n    MAX(CASE WHEN t.value = 'Net_status' \r\n             THEN (SELECT h.value FROM history_uint h WHERE h.itemid = a.itemid ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS STATUS,\r\n    MAX(CASE WHEN t.value = 'Network' \r\n             THEN (SELECT h.value FROM history_uint h join items as z on z.itemid = h.itemid\r\n              WHERE h.itemid = a.itemid and z.name like '%Entrada%' ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS ENTRADA,\r\n        MAX(CASE WHEN t.value = 'Network' \r\n             THEN (SELECT h.value FROM history_uint h join items as z on z.itemid = h.itemid\r\n              WHERE h.itemid = a.itemid and z.name like '%Saida%' ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS SA√çDA,\r\n        (MAX(CASE WHEN t.value = 'AUTENTICADAS_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END)/128)*100 AS OCUPA√á√ÉO\r\nFROM items a\r\nINNER JOIN item_tag t \r\n    ON t.itemid = a.itemid\r\n    AND t.value IN ('AUTENTICADAS_PON', 'TEMPERATURA_PON', 'POTENCIA_PON', \r\n                    'OFFLINE_PON', 'ONLINE_PON', 'Net_status','Network')\r\nleft join hosts as c on c.hostid = a.hostid\r\nWHERE c.host = '$OLT' and a.flags = 4 and a.name like '%GPON%' AND SUBSTRING_INDEX(SUBSTRING_INDEX(a.name, '/', 2), '/', -1) = $PLACA\r\nGROUP BY PON",
          "refId": "B",
          "resultFormat": "time_series",
          "schema": 12,
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          },
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          }
        },
        {
          "application": {
            "filter": ""
          },
          "countTriggersBy": "",
          "dataset": "performance_schema",
          "datasource": {
            "type": "mysql",
            "uid": "eelvlbtb2pam8c"
          },
          "editorMode": "code",
          "evaltype": "0",
          "format": "table",
          "functions": [],
          "group": {
            "filter": "/.*/"
          },
          "hide": false,
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "/GPON 0/$PLACA/(.*)/"
          },
          "itemTag": {
            "filter": "Application: OFFLINE_PON"
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": false,
            "disableDataAlignment": false,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "rawQuery": true,
          "rawSql": "\r\nSELECT \r\n   REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(\r\n        REPLACE(\r\n            REPLACE(\r\n                REPLACE(a.name, ' - TOTAL AUTENTICADAS', ''), \r\n                ' - TOTAL ONLINE', ''\r\n            ), \r\n            ' - TOTAL OFFLINE', ''\r\n        ), \r\n        ' - TEMPERATURA', ''\r\n    ),\r\n    ' - TX POWER', ''),\r\n    'Status da interface  ', ''),\r\n    'Trafego de Entrada na Interface ',''),\r\n    'Trafego de Saida na Interface ','') AS PON,\r\n    MAX(CASE WHEN t.value = 'AUTENTICADAS_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS AUTENTICADAS,\r\n        MAX(CASE WHEN t.value = 'ONLINE_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS ONLINE,\r\n            MAX(CASE WHEN t.value = 'OFFLINE_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS OFFLINE,\r\n    MAX(CASE WHEN t.value = 'TEMPERATURA_PON' \r\n             THEN (SELECT h.value FROM history_uint h WHERE h.itemid = a.itemid ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS TEMPERATURA,\r\n    MAX(CASE WHEN t.value = 'POTENCIA_PON' \r\n             THEN (SELECT h.value FROM history_uint h WHERE h.itemid = a.itemid ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS \"POT√äNCIA DE SA√çDA\",\r\n    MAX(CASE WHEN t.value = 'Net_status' \r\n             THEN (SELECT h.value FROM history_uint h WHERE h.itemid = a.itemid ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS STATUS,\r\n    MAX(CASE WHEN t.value = 'Network' \r\n             THEN (SELECT h.value FROM history_uint h join items as z on z.itemid = h.itemid\r\n              WHERE h.itemid = a.itemid and z.name like '%Entrada%' ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS ENTRADA,\r\n        MAX(CASE WHEN t.value = 'Network' \r\n             THEN (SELECT h.value FROM history_uint h join items as z on z.itemid = h.itemid\r\n              WHERE h.itemid = a.itemid and z.name like '%Saida%' ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS SA√çDA,\r\n        (MAX(CASE WHEN t.value = 'AUTENTICADAS_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END)/128)*100 AS OCUPA√á√ÉO\r\nFROM items a\r\nINNER JOIN item_tag t \r\n    ON t.itemid = a.itemid\r\n    AND t.value IN ('AUTENTICADAS_PON', 'TEMPERATURA_PON', 'POTENCIA_PON', \r\n                    'OFFLINE_PON', 'ONLINE_PON', 'Net_status','Network')\r\nleft join hosts as c on c.hostid = a.hostid\r\nWHERE c.host = '$OLT' and a.flags = 4 and a.name like '%GPON%' AND SUBSTRING_INDEX(SUBSTRING_INDEX(a.name, '/', 2), '/', -1) = $PLACA\r\nGROUP BY PON",
          "refId": "C",
          "resultFormat": "time_series",
          "schema": 12,
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          },
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          }
        },
        {
          "application": {
            "filter": ""
          },
          "countTriggersBy": "",
          "dataset": "performance_schema",
          "datasource": {
            "type": "mysql",
            "uid": "eelvlbtb2pam8c"
          },
          "editorMode": "code",
          "evaltype": "0",
          "format": "table",
          "functions": [],
          "group": {
            "filter": "/.*/"
          },
          "hide": false,
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "/GPON 0/$PLACA/(.*)/"
          },
          "itemTag": {
            "filter": "Application: TEMPERATURA_PON"
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": false,
            "disableDataAlignment": false,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "rawQuery": true,
          "rawSql": "\r\nSELECT \r\n   REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(\r\n        REPLACE(\r\n            REPLACE(\r\n                REPLACE(a.name, ' - TOTAL AUTENTICADAS', ''), \r\n                ' - TOTAL ONLINE', ''\r\n            ), \r\n            ' - TOTAL OFFLINE', ''\r\n        ), \r\n        ' - TEMPERATURA', ''\r\n    ),\r\n    ' - TX POWER', ''),\r\n    'Status da interface  ', ''),\r\n    'Trafego de Entrada na Interface ',''),\r\n    'Trafego de Saida na Interface ','') AS PON,\r\n    MAX(CASE WHEN t.value = 'AUTENTICADAS_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS AUTENTICADAS,\r\n        MAX(CASE WHEN t.value = 'ONLINE_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS ONLINE,\r\n            MAX(CASE WHEN t.value = 'OFFLINE_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS OFFLINE,\r\n    MAX(CASE WHEN t.value = 'TEMPERATURA_PON' \r\n             THEN (SELECT h.value FROM history_uint h WHERE h.itemid = a.itemid ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS TEMPERATURA,\r\n    MAX(CASE WHEN t.value = 'POTENCIA_PON' \r\n             THEN (SELECT h.value FROM history_uint h WHERE h.itemid = a.itemid ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS \"POT√äNCIA DE SA√çDA\",\r\n    MAX(CASE WHEN t.value = 'Net_status' \r\n             THEN (SELECT h.value FROM history_uint h WHERE h.itemid = a.itemid ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS STATUS,\r\n    MAX(CASE WHEN t.value = 'Network' \r\n             THEN (SELECT h.value FROM history_uint h join items as z on z.itemid = h.itemid\r\n              WHERE h.itemid = a.itemid and z.name like '%Entrada%' ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS ENTRADA,\r\n        MAX(CASE WHEN t.value = 'Network' \r\n             THEN (SELECT h.value FROM history_uint h join items as z on z.itemid = h.itemid\r\n              WHERE h.itemid = a.itemid and z.name like '%Saida%' ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS SA√çDA,\r\n        (MAX(CASE WHEN t.value = 'AUTENTICADAS_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END)/128)*100 AS OCUPA√á√ÉO\r\nFROM items a\r\nINNER JOIN item_tag t \r\n    ON t.itemid = a.itemid\r\n    AND t.value IN ('AUTENTICADAS_PON', 'TEMPERATURA_PON', 'POTENCIA_PON', \r\n                    'OFFLINE_PON', 'ONLINE_PON', 'Net_status','Network')\r\nleft join hosts as c on c.hostid = a.hostid\r\nWHERE c.host = '$OLT' and a.flags = 4 and a.name like '%GPON%' AND SUBSTRING_INDEX(SUBSTRING_INDEX(a.name, '/', 2), '/', -1) = $PLACA\r\nGROUP BY PON",
          "refId": "D",
          "resultFormat": "time_series",
          "schema": 12,
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          },
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          }
        },
        {
          "application": {
            "filter": ""
          },
          "countTriggersBy": "",
          "dataset": "performance_schema",
          "datasource": {
            "type": "mysql",
            "uid": "eelvlbtb2pam8c"
          },
          "editorMode": "code",
          "evaltype": "0",
          "format": "table",
          "functions": [],
          "group": {
            "filter": "/.*/"
          },
          "hide": false,
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "/GPON 0/$PLACA/(.*)/"
          },
          "itemTag": {
            "filter": "Application: POTENCIA_PON"
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": false,
            "disableDataAlignment": false,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "rawQuery": true,
          "rawSql": "\r\nSELECT \r\n   REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(\r\n        REPLACE(\r\n            REPLACE(\r\n                REPLACE(a.name, ' - TOTAL AUTENTICADAS', ''), \r\n                ' - TOTAL ONLINE', ''\r\n            ), \r\n            ' - TOTAL OFFLINE', ''\r\n        ), \r\n        ' - TEMPERATURA', ''\r\n    ),\r\n    ' - TX POWER', ''),\r\n    'Status da interface  ', ''),\r\n    'Trafego de Entrada na Interface ',''),\r\n    'Trafego de Saida na Interface ','') AS PON,\r\n    MAX(CASE WHEN t.value = 'AUTENTICADAS_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS AUTENTICADAS,\r\n        MAX(CASE WHEN t.value = 'ONLINE_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS ONLINE,\r\n            MAX(CASE WHEN t.value = 'OFFLINE_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS OFFLINE,\r\n    MAX(CASE WHEN t.value = 'TEMPERATURA_PON' \r\n             THEN (SELECT h.value FROM history_uint h WHERE h.itemid = a.itemid ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS TEMPERATURA,\r\n    MAX(CASE WHEN t.value = 'POTENCIA_PON' \r\n             THEN (SELECT h.value FROM history_uint h WHERE h.itemid = a.itemid ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS \"POT√äNCIA DE SA√çDA\",\r\n    MAX(CASE WHEN t.value = 'Net_status' \r\n             THEN (SELECT h.value FROM history_uint h WHERE h.itemid = a.itemid ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS STATUS,\r\n    MAX(CASE WHEN t.value = 'Network' \r\n             THEN (SELECT h.value FROM history_uint h join items as z on z.itemid = h.itemid\r\n              WHERE h.itemid = a.itemid and z.name like '%Entrada%' ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS ENTRADA,\r\n        MAX(CASE WHEN t.value = 'Network' \r\n             THEN (SELECT h.value FROM history_uint h join items as z on z.itemid = h.itemid\r\n              WHERE h.itemid = a.itemid and z.name like '%Saida%' ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS SA√çDA,\r\n        (MAX(CASE WHEN t.value = 'AUTENTICADAS_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END)/128)*100 AS OCUPA√á√ÉO\r\nFROM items a\r\nINNER JOIN item_tag t \r\n    ON t.itemid = a.itemid\r\n    AND t.value IN ('AUTENTICADAS_PON', 'TEMPERATURA_PON', 'POTENCIA_PON', \r\n                    'OFFLINE_PON', 'ONLINE_PON', 'Net_status','Network')\r\nleft join hosts as c on c.hostid = a.hostid\r\nWHERE c.host = '$OLT' and a.flags = 4 and a.name like '%GPON%' AND SUBSTRING_INDEX(SUBSTRING_INDEX(a.name, '/', 2), '/', -1) = $PLACA\r\nGROUP BY PON",
          "refId": "E",
          "resultFormat": "time_series",
          "schema": 12,
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          },
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          }
        },
        {
          "application": {
            "filter": ""
          },
          "countTriggersBy": "",
          "dataset": "performance_schema",
          "datasource": {
            "type": "mysql",
            "uid": "eelvlbtb2pam8c"
          },
          "editorMode": "code",
          "evaltype": "0",
          "format": "table",
          "functions": [],
          "group": {
            "filter": "/.*/"
          },
          "hide": false,
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "/GPON 0/$PLACA/(.*)/"
          },
          "itemTag": {
            "filter": "Application: Net_status"
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": false,
            "disableDataAlignment": false,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "rawQuery": true,
          "rawSql": "\r\nSELECT \r\n   REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(\r\n        REPLACE(\r\n            REPLACE(\r\n                REPLACE(a.name, ' - TOTAL AUTENTICADAS', ''), \r\n                ' - TOTAL ONLINE', ''\r\n            ), \r\n            ' - TOTAL OFFLINE', ''\r\n        ), \r\n        ' - TEMPERATURA', ''\r\n    ),\r\n    ' - TX POWER', ''),\r\n    'Status da interface  ', ''),\r\n    'Trafego de Entrada na Interface ',''),\r\n    'Trafego de Saida na Interface ','') AS PON,\r\n    MAX(CASE WHEN t.value = 'AUTENTICADAS_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS AUTENTICADAS,\r\n        MAX(CASE WHEN t.value = 'ONLINE_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS ONLINE,\r\n            MAX(CASE WHEN t.value = 'OFFLINE_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS OFFLINE,\r\n    MAX(CASE WHEN t.value = 'TEMPERATURA_PON' \r\n             THEN (SELECT h.value FROM history_uint h WHERE h.itemid = a.itemid ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS TEMPERATURA,\r\n    MAX(CASE WHEN t.value = 'POTENCIA_PON' \r\n             THEN (SELECT h.value FROM history_uint h WHERE h.itemid = a.itemid ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS \"POT√äNCIA DE SA√çDA\",\r\n    MAX(CASE WHEN t.value = 'Net_status' \r\n             THEN (SELECT h.value FROM history_uint h WHERE h.itemid = a.itemid ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS STATUS,\r\n    MAX(CASE WHEN t.value = 'Network' \r\n             THEN (SELECT h.value FROM history_uint h join items as z on z.itemid = h.itemid\r\n              WHERE h.itemid = a.itemid and z.name like '%Entrada%' ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS ENTRADA,\r\n        MAX(CASE WHEN t.value = 'Network' \r\n             THEN (SELECT h.value FROM history_uint h join items as z on z.itemid = h.itemid\r\n              WHERE h.itemid = a.itemid and z.name like '%Saida%' ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS SA√çDA,\r\n        (MAX(CASE WHEN t.value = 'AUTENTICADAS_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END)/128)*100 AS OCUPA√á√ÉO\r\nFROM items a\r\nINNER JOIN item_tag t \r\n    ON t.itemid = a.itemid\r\n    AND t.value IN ('AUTENTICADAS_PON', 'TEMPERATURA_PON', 'POTENCIA_PON', \r\n                    'OFFLINE_PON', 'ONLINE_PON', 'Net_status','Network')\r\nleft join hosts as c on c.hostid = a.hostid\r\nWHERE c.host = '$OLT' and a.flags = 4 and a.name like '%GPON%' AND SUBSTRING_INDEX(SUBSTRING_INDEX(a.name, '/', 2), '/', -1) = $PLACA\r\nGROUP BY PON",
          "refId": "F",
          "resultFormat": "time_series",
          "schema": 12,
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          },
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          }
        },
        {
          "application": {
            "filter": ""
          },
          "countTriggersBy": "",
          "dataset": "performance_schema",
          "datasource": {
            "type": "mysql",
            "uid": "eelvlbtb2pam8c"
          },
          "editorMode": "code",
          "evaltype": "0",
          "format": "table",
          "functions": [],
          "group": {
            "filter": "/.*/"
          },
          "hide": true,
          "host": {
            "filter": "$OLT"
          },
          "item": {
            "filter": "/GPON 0/$PLACA/(.*)/"
          },
          "itemTag": {
            "filter": "Application: OCUPACAO_PON"
          },
          "macro": {
            "filter": ""
          },
          "options": {
            "count": false,
            "disableDataAlignment": false,
            "showDisabledItems": false,
            "skipEmptyValues": false,
            "useTrends": "default",
            "useZabbixValueMapping": false
          },
          "proxy": {
            "filter": ""
          },
          "queryType": "0",
          "rawQuery": true,
          "rawSql": "\r\nSELECT \r\n   REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(\r\n        REPLACE(\r\n            REPLACE(\r\n                REPLACE(a.name, ' - TOTAL AUTENTICADAS', ''), \r\n                ' - TOTAL ONLINE', ''\r\n            ), \r\n            ' - TOTAL OFFLINE', ''\r\n        ), \r\n        ' - TEMPERATURA', ''\r\n    ),\r\n    ' - TX POWER', ''),\r\n    'Status da interface  ', ''),\r\n    'Trafego de Entrada na Interface ',''),\r\n    'Trafego de Saida na Interface ','') AS PON,\r\n    MAX(CASE WHEN t.value = 'AUTENTICADAS_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS AUTENTICADAS,\r\n        MAX(CASE WHEN t.value = 'ONLINE_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS ONLINE,\r\n            MAX(CASE WHEN t.value = 'OFFLINE_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END) AS OFFLINE,\r\n    MAX(CASE WHEN t.value = 'TEMPERATURA_PON' \r\n             THEN (SELECT h.value FROM history_uint h WHERE h.itemid = a.itemid ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS TEMPERATURA,\r\n    MAX(CASE WHEN t.value = 'POTENCIA_PON' \r\n             THEN (SELECT h.value FROM history_uint h WHERE h.itemid = a.itemid ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS \"POT√äNCIA DE SA√çDA\",\r\n    MAX(CASE WHEN t.value = 'Net_status' \r\n             THEN (SELECT h.value FROM history_uint h WHERE h.itemid = a.itemid ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS STATUS,\r\n    MAX(CASE WHEN t.value = 'Network' \r\n             THEN (SELECT h.value FROM history_uint h join items as z on z.itemid = h.itemid\r\n              WHERE h.itemid = a.itemid and z.name like '%Entrada%' ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS ENTRADA,\r\n        MAX(CASE WHEN t.value = 'Network' \r\n             THEN (SELECT h.value FROM history_uint h join items as z on z.itemid = h.itemid\r\n              WHERE h.itemid = a.itemid and z.name like '%Saida%' ORDER BY h.clock DESC LIMIT 1) \r\n        END) AS SA√çDA,\r\n        (MAX(CASE WHEN t.value = 'AUTENTICADAS_PON' \r\n             THEN (SELECT hu.value FROM history_uint hu WHERE hu.itemid = a.itemid ORDER BY hu.clock DESC LIMIT 1) \r\n        END)/128)*100 AS OCUPA√á√ÉO\r\nFROM items a\r\nINNER JOIN item_tag t \r\n    ON t.itemid = a.itemid\r\n    AND t.value IN ('AUTENTICADAS_PON', 'TEMPERATURA_PON', 'POTENCIA_PON', \r\n                    'OFFLINE_PON', 'ONLINE_PON', 'Net_status','Network')\r\nleft join hosts as c on c.hostid = a.hostid\r\nWHERE c.host = '$OLT' and a.flags = 4 and a.name like '%GPON%' AND SUBSTRING_INDEX(SUBSTRING_INDEX(a.name, '/', 2), '/', -1) = $PLACA\r\nGROUP BY PON",
          "refId": "H",
          "resultFormat": "time_series",
          "schema": 12,
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          },
          "table": {
            "skipEmptyValues": false
          },
          "tags": {
            "filter": ""
          },
          "textFilter": "",
          "trigger": {
            "filter": ""
          }
        }
      ],
      "transformations": [
        {
          "id": "reduce",
          "options": {
            "labelsToFields": true,
            "reducers": [
              "lastNotNull"
            ]
          }
        },
        {
          "id": "extractFields",
          "options": {
            "delimiter": ",",
            "format": "regexp",
            "regExp": "/(?<item>(TOTAL\\s+\\w+|TEMPERATURA|TX POWER|Entrada|Saida|Status|OCUPACAO))/",
            "source": "item"
          }
        },
        {
          "id": "extractFields",
          "options": {
            "delimiter": ",",
            "format": "regexp",
            "regExp": "/(?<PON>GPON\\s+\\d+\\/\\d+/\\d+)/i",
            "source": "item 1"
          }
        },
        {
          "id": "groupingToMatrix",
          "options": {
            "columnField": "item 2",
            "rowField": "PON",
            "valueField": "Last *"
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "includeByName": {},
            "indexByName": {
              "Entrada": 6,
              "PON\\item 2": 0,
              "Saida": 7,
              "Status": 8,
              "TEMPERATURA": 4,
              "TOTAL AUTENTICADAS": 1,
              "TOTAL OFFLINE": 3,
              "TOTAL ONLINE": 2,
              "TX POWER": 5
            },
            "renameByName": {
              "Entrada": "ENTRADA",
              "OCUPACAO": "OCUPA√á√ÉO",
              "PON\\item 2": "PON",
              "Saida": "SA√çDA",
              "Status": "STATUS",
              "TEMPERATURA": "TEMPERATURA",
              "TOTAL AUTENTICADAS": "AUTENTICADAS",
              "TOTAL OFFLINE": "OFFLINE",
              "TOTAL ONLINE": "ONLINE",
              "TX POWER": "POT√äNCIA DE SA√çDA"
            }
          }
        }
      ],
      "transparent": true,
      "type": "marcusolsson-dynamictext-panel"
    }
  ],
  "preload": false,
  "refresh": "1m",
  "schemaVersion": 42,
  "tags": [
    "OLT",
    "DASH",
    "POP LEVY"
  ],
  "templating": {
    "list": [
      {
        "allowCustomValue": false,
        "current": {
          "text": "OLT HUAWEI MA5800X17 CPD TR",
          "value": "OLT HUAWEI MA5800X17 CPD TR"
        },
        "hide": 2,
        "label": "OLT",
        "name": "OLT",
        "options": [
          {
            "selected": true,
            "text": "OLT HUAWEI MA5800X17 CPD TR",
            "value": "OLT HUAWEI MA5800X17 CPD TR"
          }
        ],
        "query": "OLT HUAWEI MA5800X2 LEVY",
        "type": "custom"
      },
      {
        "allowCustomValue": false,
        "current": {
          "text": "1",
          "value": "1"
        },
        "datasource": {
          "type": "alexanderzobnin-zabbix-datasource",
          "uid": "ff5clh86a2mf4a"
        },
        "definition": "Zabbix - item",
        "includeAll": false,
        "label": "PLACA",
        "name": "PLACA",
        "options": [],
        "query": {
          "application": "/ONLINE_PON|AUTENTICADA_PON|OFFLINE_PON/",
          "group": "/.*/",
          "host": "$OLT",
          "item": "/.*/",
          "itemTag": "",
          "queryType": "item"
        },
        "refresh": 1,
        "regex": "/(?:GPON 0/)(.*)(?:/)/",
        "sort": 3,
        "type": "query"
      }
    ]
  },
  "time": {
    "from": "now-6h",
    "to": "now"
  },
  "timepicker": {
    "refresh_intervals": [
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ]
  },
  "timezone": "",
  "title": "OLT HUAWEI LEVY",
  "uid": "bem1zf3gt3shsa5",
  "weekStart": ""
}